import{a as q,i as A,s as G,j as z,y as S,G as J,m as v,d as M,k as g,B as P,l as w,C as V,h as B,o as D,aa as H,e as C,b as E,f as L,w as K,v as Q,S as W,z as Y,A as Z}from"./index-102c4cdd.js";import{B as y,n as p}from"./Button-40f9d213.js";import{B as X}from"./BlockLabel-4cfb0038.js";import{E as x}from"./Empty-f49cd57d.js";import{F}from"./File-c170a52b.js";import{I as U}from"./IconButton-4a701209.js";import{D as $}from"./Download-dfa0b34e.js";import{U as ee}from"./Undo-c24366cc.js";import{b as le,a as N,r as ne,c as oe}from"./babylonjs.loaders.min-25f751fe.js";function T(t){let e,o,l,a,n,s,f,u,h,m,d;return l=new U({props:{Icon:ee,label:"Undo"}}),l.$on("click",t[12]),s=new U({props:{Icon:$,label:t[3]("common.download")}}),{c(){e=C("div"),o=C("div"),z(l.$$.fragment),a=S(),n=C("a"),z(s.$$.fragment),h=S(),m=C("canvas"),E(n,"href",f=t[0].data),E(n,"target",window.__is_colab__?"_blank":null),E(n,"download",u=window.__is_colab__?null:t[0].orig_name||t[0].name),E(o,"class","buttons svelte-xz066x"),E(m,"class","svelte-xz066x"),E(e,"class","model3D svelte-xz066x")},m(i,r){M(i,e,r),L(e,o),v(l,o,null),L(o,a),L(o,n),v(s,n,null),L(e,h),L(e,m),t[13](m),d=!0},p(i,r){const b={};r&8&&(b.label=i[3]("common.download")),s.$set(b),(!d||r&1&&f!==(f=i[0].data))&&E(n,"href",f),(!d||r&1&&u!==(u=window.__is_colab__?null:i[0].orig_name||i[0].name))&&E(n,"download",u)},i(i){d||(g(l.$$.fragment,i),g(s.$$.fragment,i),d=!0)},o(i){w(l.$$.fragment,i),w(s.$$.fragment,i),d=!1},d(i){i&&B(e),D(l),D(s),t[13](null)}}}function ae(t){let e,o,l,a;e=new X({props:{show_label:t[2],Icon:F,label:t[1]||t[3]("3D_model.3d_model")}});let n=t[0]&&T(t);return{c(){z(e.$$.fragment),o=S(),n&&n.c(),l=J()},m(s,f){v(e,s,f),M(s,o,f),n&&n.m(s,f),M(s,l,f),a=!0},p(s,[f]){const u={};f&4&&(u.show_label=s[2]),f&10&&(u.label=s[1]||s[3]("3D_model.3d_model")),e.$set(u),s[0]?n?(n.p(s,f),f&1&&g(n,1)):(n=T(s),n.c(),g(n,1),n.m(l.parentNode,l)):n&&(P(),w(n,1,1,()=>{n=null}),V())},i(s){a||(g(e.$$.fragment,s),g(n),a=!0)},o(s){w(e.$$.fragment,s),w(n),a=!1},d(s){s&&(B(o),B(l)),D(e,s),n&&n.d(s)}}}function te(t,e,o){let l,a,{value:n}=e,{clear_color:s=[0,0,0,0]}=e,{label:f=""}=e,{show_label:u}=e,{i18n:h}=e,{zoom_speed:m=1}=e,{camera_position:d=[null,null,null]}=e;le.OBJFileLoader.IMPORT_VERTEX_COLORS=!0;let i,r,b,k=!1;H(()=>{b=new N.Engine(i,!0),window.addEventListener("resize",()=>{b?.resize()}),o(9,k=!0)});function O(){r&&!r.isDisposed&&(r.dispose(),b?.stopRenderLoop(),b?.dispose(),b=null,b=new N.Engine(i,!0),window.addEventListener("resize",()=>{b?.resize()})),b!==null&&(r=oe(i,r,b,n,s,d,m))}function I(){ne(r,d,m)}const R=()=>I();function j(c){K[c?"unshift":"push"](()=>{i=c,o(4,i)})}return t.$$set=c=>{"value"in c&&o(0,n=c.value),"clear_color"in c&&o(6,s=c.clear_color),"label"in c&&o(1,f=c.label),"show_label"in c&&o(2,u=c.show_label),"i18n"in c&&o(3,h=c.i18n),"zoom_speed"in c&&o(7,m=c.zoom_speed),"camera_position"in c&&o(8,d=c.camera_position)},t.$$.update=()=>{t.$$.dirty&1&&o(11,{data:l,name:a}=n||{data:void 0,name:void 0},l,(o(10,a),o(0,n))),t.$$.dirty&3600&&i&&k&&l!=null&&a&&O()},[n,f,u,h,i,I,s,m,d,k,a,l,R,j]}class ie extends q{constructor(e){super(),A(this,e,te,ae,G,{value:0,clear_color:6,label:1,show_label:2,i18n:3,zoom_speed:7,camera_position:8})}}function se(t){let e,o,l,a;return e=new X({props:{show_label:t[7],Icon:F,label:t[6]||"3D Model"}}),l=new x({props:{unpadded_box:!0,size:"large",$$slots:{default:[fe]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment),o=S(),z(l.$$.fragment)},m(n,s){v(e,n,s),M(n,o,s),v(l,n,s),a=!0},p(n,s){const f={};s&128&&(f.show_label=n[7]),s&64&&(f.label=n[6]||"3D Model"),e.$set(f);const u={};s&262144&&(u.$$scope={dirty:s,ctx:n}),l.$set(u)},i(n){a||(g(e.$$.fragment,n),g(l.$$.fragment,n),a=!0)},o(n){w(e.$$.fragment,n),w(l.$$.fragment,n),a=!1},d(n){n&&B(o),D(e,n),D(l,n)}}}function _e(t){let e,o;return e=new ie({props:{value:t[15],i18n:t[11].i18n,clear_color:t[4],label:t[6],show_label:t[7],camera_position:t[14],zoom_speed:t[13]}}),{c(){z(e.$$.fragment)},m(l,a){v(e,l,a),o=!0},p(l,a){const n={};a&32768&&(n.value=l[15]),a&2048&&(n.i18n=l[11].i18n),a&16&&(n.clear_color=l[4]),a&64&&(n.label=l[6]),a&128&&(n.show_label=l[7]),a&16384&&(n.camera_position=l[14]),a&8192&&(n.zoom_speed=l[13]),e.$set(n)},i(l){o||(g(e.$$.fragment,l),o=!0)},o(l){w(e.$$.fragment,l),o=!1},d(l){D(e,l)}}}function fe(t){let e,o;return e=new F({}),{c(){z(e.$$.fragment)},m(l,a){v(e,l,a),o=!0},i(l){o||(g(e.$$.fragment,l),o=!0)},o(l){w(e.$$.fragment,l),o=!1},d(l){D(e,l)}}}function re(t){let e,o,l,a,n,s;const f=[{autoscroll:t[11].autoscroll},{i18n:t[11].i18n},t[5]];let u={};for(let i=0;i<f.length;i+=1)u=Q(u,f[i]);e=new W({props:u});const h=[_e,se],m=[];function d(i,r){return i[3]?0:1}return l=d(t),a=m[l]=h[l](t),{c(){z(e.$$.fragment),o=S(),a.c(),n=J()},m(i,r){v(e,i,r),M(i,o,r),m[l].m(i,r),M(i,n,r),s=!0},p(i,r){const b=r&2080?Y(f,[r&2048&&{autoscroll:i[11].autoscroll},r&2048&&{i18n:i[11].i18n},r&32&&Z(i[5])]):{};e.$set(b);let k=l;l=d(i),l===k?m[l].p(i,r):(P(),w(m[k],1,1,()=>{m[k]=null}),V(),a=m[l],a?a.p(i,r):(a=m[l]=h[l](i),a.c()),g(a,1),a.m(n.parentNode,n))},i(i){s||(g(e.$$.fragment,i),g(a),s=!0)},o(i){w(e.$$.fragment,i),w(a),s=!1},d(i){i&&(B(o),B(n)),D(e,i),m[l].d(i)}}}function ue(t){let e,o;return e=new y({props:{visible:t[2],variant:t[3]===null?"dashed":"solid",border_mode:"base",padding:!1,elem_id:t[0],elem_classes:t[1],container:t[8],scale:t[9],min_width:t[10],height:t[12],$$slots:{default:[re]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(l,a){v(e,l,a),o=!0},p(l,[a]){const n={};a&4&&(n.visible=l[2]),a&8&&(n.variant=l[3]===null?"dashed":"solid"),a&1&&(n.elem_id=l[0]),a&2&&(n.elem_classes=l[1]),a&256&&(n.container=l[8]),a&512&&(n.scale=l[9]),a&1024&&(n.min_width=l[10]),a&4096&&(n.height=l[12]),a&321784&&(n.$$scope={dirty:a,ctx:l}),e.$set(n)},i(l){o||(g(e.$$.fragment,l),o=!0)},o(l){w(e.$$.fragment,l),o=!1},d(l){D(e,l)}}}function me(t,e,o){let{elem_id:l=""}=e,{elem_classes:a=[]}=e,{visible:n=!0}=e,{value:s=null}=e,{root:f}=e,{root_url:u}=e,{clear_color:h}=e,{loading_status:m}=e,{label:d}=e,{show_label:i}=e,{container:r=!0}=e,{scale:b=null}=e,{min_width:k=void 0}=e,{gradio:O}=e,{height:I=void 0}=e,{zoom_speed:R=1}=e,{camera_position:j=[null,null,null]}=e,c;return t.$$set=_=>{"elem_id"in _&&o(0,l=_.elem_id),"elem_classes"in _&&o(1,a=_.elem_classes),"visible"in _&&o(2,n=_.visible),"value"in _&&o(3,s=_.value),"root"in _&&o(16,f=_.root),"root_url"in _&&o(17,u=_.root_url),"clear_color"in _&&o(4,h=_.clear_color),"loading_status"in _&&o(5,m=_.loading_status),"label"in _&&o(6,d=_.label),"show_label"in _&&o(7,i=_.show_label),"container"in _&&o(8,r=_.container),"scale"in _&&o(9,b=_.scale),"min_width"in _&&o(10,k=_.min_width),"gradio"in _&&o(11,O=_.gradio),"height"in _&&o(12,I=_.height),"zoom_speed"in _&&o(13,R=_.zoom_speed),"camera_position"in _&&o(14,j=_.camera_position)},t.$$.update=()=>{t.$$.dirty&196616&&o(15,c=p(s,f,u))},[l,a,n,s,h,m,d,i,r,b,k,O,I,R,j,c,f,u]}class ce extends q{constructor(e){super(),A(this,e,me,ue,G,{elem_id:0,elem_classes:1,visible:2,value:3,root:16,root_url:17,clear_color:4,loading_status:5,label:6,show_label:7,container:8,scale:9,min_width:10,gradio:11,height:12,zoom_speed:13,camera_position:14})}}const Ee=ce;export{Ee as default};
//# sourceMappingURL=index-fca6790a.js.map
