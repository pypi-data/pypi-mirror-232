{"version":3,"file":"index-5e8f6f8f.js","sources":["../../../../js/dataframe/interactive/InteractiveDataframe.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport type { Gradio, SelectData } from \"@gradio/utils\";\n\timport { Block } from \"@gradio/atoms\";\n\timport Table from \"../shared\";\n\timport { StatusTracker } from \"@gradio/statustracker\";\n\timport type { LoadingStatus } from \"@gradio/statustracker\";\n\timport { afterUpdate } from \"svelte\";\n\timport { _ } from \"svelte-i18n\";\n\n\ttype Headers = string[];\n\ttype Data = (string | number)[][];\n\ttype Datatype = \"str\" | \"markdown\" | \"html\" | \"number\" | \"bool\" | \"date\";\n\n\texport let headers: Headers = [];\n\texport let elem_id = \"\";\n\texport let elem_classes: string[] = [];\n\texport let visible = true;\n\texport let value: { data: Data; headers: Headers } = {\n\t\tdata: [[\"\", \"\", \"\"]],\n\t\theaders: [\"1\", \"2\", \"3\"]\n\t};\n\texport let latex_delimiters: {\n\t\tleft: string;\n\t\tright: string;\n\t\tdisplay: boolean;\n\t}[];\n\texport let height: number | undefined = undefined;\n\n\tlet old_value: string = JSON.stringify(value);\n\texport let value_is_output = false;\n\texport let col_count: [number, \"fixed\" | \"dynamic\"];\n\texport let row_count: [number, \"fixed\" | \"dynamic\"];\n\texport let label: string | null = null;\n\texport let wrap: boolean;\n\texport let datatype: Datatype | Datatype[];\n\texport let scale: number | null = null;\n\texport let min_width: number | undefined = undefined;\n\texport let root: string;\n\n\texport let gradio: Gradio<{\n\t\tchange: never;\n\t\tselect: SelectData;\n\t\tinput: never;\n\t}>;\n\n\texport let loading_status: LoadingStatus;\n\n\tfunction handle_change(): void {\n\t\tgradio.dispatch(\"change\");\n\t\tif (!value_is_output) {\n\t\t\tgradio.dispatch(\"input\");\n\t\t}\n\t}\n\tafterUpdate(() => {\n\t\tvalue_is_output = false;\n\t});\n\t$: {\n\t\tif (JSON.stringify(value) !== old_value) {\n\t\t\told_value = JSON.stringify(value);\n\t\t\thandle_change();\n\t\t}\n\t}\n\n\tif (\n\t\t(Array.isArray(value) && value?.[0]?.length === 0) ||\n\t\tvalue.data?.[0]?.length === 0\n\t) {\n\t\tvalue = {\n\t\t\tdata: [Array(col_count?.[0] || 3).fill(\"\")],\n\t\t\theaders: Array(col_count?.[0] || 3)\n\t\t\t\t.fill(\"\")\n\t\t\t\t.map((_, i) => `${i + 1}`)\n\t\t};\n\t}\n</script>\n\n<Block\n\t{visible}\n\tpadding={false}\n\t{elem_id}\n\t{elem_classes}\n\tcontainer={false}\n\t{scale}\n\t{min_width}\n\tallow_overflow={false}\n>\n\t<StatusTracker\n\t\tautoscroll={gradio.autoscroll}\n\t\t{...loading_status}\n\t\ti18n={gradio.i18n}\n\t/>\n\t<Table\n\t\t{label}\n\t\t{row_count}\n\t\t{col_count}\n\t\t{root}\n\t\tvalues={value}\n\t\t{headers}\n\t\ton:change={({ detail }) => {\n\t\t\tvalue = detail;\n\t\t}}\n\t\ton:select={(e) => gradio.dispatch(\"select\", e.detail)}\n\t\teditable\n\t\t{wrap}\n\t\t{datatype}\n\t\t{latex_delimiters}\n\t\t{height}\n\t\ti18n={gradio.i18n}\n\t/>\n</Block>\n"],"names":["ctx","dirty","table_changes","headers","$$props","elem_id","elem_classes","visible","value","latex_delimiters","height","old_value","value_is_output","col_count","row_count","label","wrap","datatype","scale","min_width","root","gradio","loading_status","handle_change","afterUpdate","$$invalidate","_","i","detail","e"],"mappings":"kWAuFc,WAAAA,MAAO,YACfA,EAAc,EAAA,EACZ,CAAA,KAAAA,MAAO,IAAI,yJAOTA,EAAK,CAAA,uFAWP,KAAAA,MAAO,gLApBD,WAAAA,MAAO,uBACfA,EAAc,EAAA,CAAA,EACZC,EAAA,OAAA,CAAA,KAAAD,MAAO,IAAI,6IAOTA,EAAK,CAAA,iIAWPC,EAAA,QAAAC,EAAA,KAAAF,MAAO,uNA7BL,4CAGE,8CAGK,gYAvEL,QAAAG,EAAO,EAAA,EAAAC,EACP,CAAA,QAAAC,EAAU,EAAE,EAAAD,GACZ,aAAAE,EAAY,EAAA,EAAAF,EACZ,CAAA,QAAAG,EAAU,EAAI,EAAAH,GACd,MAAAI,EAAK,CACf,KAAQ,CAAA,CAAA,GAAI,GAAI,EAAE,CAAA,EAClB,QAAU,CAAA,IAAK,IAAK,GAAG,OAEb,iBAAAC,CAIR,EAAAL,EACQ,CAAA,OAAAM,EAA6B,MAAS,EAAAN,EAE7CO,EAAoB,KAAK,UAAUH,CAAK,EACjC,CAAA,gBAAAI,EAAkB,EAAK,EAAAR,GACvB,UAAAS,CAAwC,EAAAT,GACxC,UAAAU,CAAwC,EAAAV,EACxC,CAAA,MAAAW,EAAuB,IAAI,EAAAX,GAC3B,KAAAY,CAAa,EAAAZ,GACb,SAAAa,CAA+B,EAAAb,EAC/B,CAAA,MAAAc,EAAuB,IAAI,EAAAd,EAC3B,CAAA,UAAAe,EAAgC,MAAS,EAAAf,GACzC,KAAAgB,CAAY,EAAAhB,GAEZ,OAAAiB,CAIT,EAAAjB,GAES,eAAAkB,CAA6B,EAAAlB,WAE/BmB,GAAa,CACrBF,EAAO,SAAS,QAAQ,EACnBT,GACJS,EAAO,SAAS,OAAO,EAGzBG,EAAW,IAAA,CACVC,EAAA,GAAAb,EAAkB,EAAK,KAUtB,MAAM,QAAQJ,CAAK,GAAKA,IAAQ,CAAC,GAAG,SAAW,GAChDA,EAAM,OAAO,CAAC,GAAG,SAAW,KAE5BA,EAAK,CACJ,KAAI,CAAG,MAAMK,IAAY,CAAC,GAAK,CAAC,EAAE,KAAK,EAAE,CAAA,EACzC,QAAS,MAAMA,IAAY,CAAC,GAAK,CAAC,EAChC,KAAK,EAAE,EACP,IAAK,CAAAa,EAAGC,IAAC,GAAQA,EAAI,GAAC,cA2BX,OAAAC,KAAM,CACnBH,EAAA,EAAAjB,EAAQoB,CAAM,KAEHC,GAAMR,EAAO,SAAS,SAAUQ,EAAE,MAAM,8qBA5ChD,KAAK,UAAUrB,CAAK,IAAMG,IAC7Bc,EAAA,GAAAd,EAAY,KAAK,UAAUH,CAAK,CAAA,EAChCe"}