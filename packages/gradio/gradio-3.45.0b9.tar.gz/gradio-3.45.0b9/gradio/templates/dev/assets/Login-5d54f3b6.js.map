{"version":3,"file":"Login-5d54f3b6.js","sources":["../../../../js/app/src/Login.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport Form from \"@gradio/form\";\n\timport Textbox from \"@gradio/textbox/interactive\";\n\timport { BaseButton } from \"@gradio/button/static\";\n\timport Column from \"@gradio/column\";\n\timport { _ } from \"svelte-i18n\";\n\texport let root: string;\n\texport let auth_message: string | null;\n\texport let app_mode: boolean;\n\texport let space_id: string | null;\n\n\tlet username = \"\";\n\tlet password = \"\";\n\tlet incorrect_credentials = false;\n\n\tconst submit = async (): Promise<void> => {\n\t\tconst formData = new FormData();\n\t\tformData.append(\"username\", username);\n\t\tformData.append(\"password\", password);\n\n\t\tlet response = await fetch(root + \"/login\", {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: formData\n\t\t});\n\t\tif (response.status === 400) {\n\t\t\tincorrect_credentials = true;\n\t\t\tusername = \"\";\n\t\t\tpassword = \"\";\n\t\t} else if (response.status == 200) {\n\t\t\tlocation.reload();\n\t\t}\n\t};\n</script>\n\n<div class=\"wrap\" class:min-h-screen={app_mode}>\n\t<Column variant=\"panel\" min_width={480}>\n\t\t<h2>{$_(\"login.login\")}</h2>\n\t\t{#if auth_message}\n\t\t\t<p class=\"auth\">{auth_message}</p>\n\t\t{/if}\n\t\t{#if space_id}\n\t\t\t<p class=\"auth\">\n\t\t\t\t{$_(\"login.enable_cookies\")}\n\t\t\t</p>\n\t\t{/if}\n\t\t{#if incorrect_credentials}\n\t\t\t<p class=\"creds\">{$_(\"login.incorrect_credentials\")}</p>\n\t\t{/if}\n\t\t<Form>\n\t\t\t<Textbox\n\t\t\t\tlabel=\"username\"\n\t\t\t\tlines={1}\n\t\t\t\tshow_label={true}\n\t\t\t\tmax_lines={1}\n\t\t\t\ton:submit={submit}\n\t\t\t\tbind:value={username}\n\t\t\t/>\n\t\t\t<Textbox\n\t\t\t\tlabel=\"password\"\n\t\t\t\tlines={1}\n\t\t\t\tshow_label={true}\n\t\t\t\tmax_lines={1}\n\t\t\t\ttype=\"password\"\n\t\t\t\ton:submit={submit}\n\t\t\t\tbind:value={password}\n\t\t\t/>\n\t\t</Form>\n\n\t\t<BaseButton size=\"lg\" variant=\"primary\" on:click={submit}\n\t\t\t>{$_(\"login.login\")}</BaseButton\n\t\t>\n\t</Column>\n</div>\n\n<style>\n\t.wrap {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tmargin-top: var(--size-3);\n\t\tbackground: var(--background-fill-primary);\n\t\twidth: var(--size-full);\n\t}\n\n\th2 {\n\t\tmargin-bottom: var(--size-3);\n\t\tcolor: var(--body-text-color);\n\t\tfont-weight: var(--section-header-text-weight);\n\t\tfont-size: var(--text-xl);\n\t}\n\n\t.auth {\n\t\tmargin-top: var(--size-1);\n\t\tmargin-bottom: var(--size-1);\n\t\tcolor: var(--body-text-color);\n\t}\n\n\t.creds {\n\t\tmargin-top: var(--size-4);\n\t\tmargin-bottom: var(--size-4);\n\t\tcolor: var(--error-text-color);\n\t\tfont-weight: var(--weight-semibold);\n\t}\n</style>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;6BAsCoB,GAAY,CAAA,CAAA,CAAA,CAAA,CAAA;;;;;GAA7B,UAAiC,CAAA,MAAA,EAAA,CAAA,EAAA,MAAA,CAAA,CAAA;;;;oEAAhB,GAAY,CAAA,CAAA,CAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;AAI3B,CAAA,IAAA,OAAA,UAAA,GAAE,IAAC,sBAAsB,CAAA,GAAA,EAAA,CAAA;;;;;;;;;;;GAD3B,UAEG,CAAA,MAAA,EAAA,CAAA,EAAA,MAAA,CAAA,CAAA;;;;AADD,GAAA,IAAA,KAAA,UAAA,EAAA,IAAA,OAAA,MAAA,OAAA,UAAA,GAAE,IAAC,sBAAsB,CAAA,GAAA,EAAA,CAAA,EAAA,YAAA,CAAA,CAAA,EAAA,OAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;AAIT,CAAA,IAAA,OAAA,UAAA,GAAE,IAAC,6BAA6B,CAAA,GAAA,EAAA,CAAA;;;;;;;;;;;GAAlD,UAAuD,CAAA,MAAA,EAAA,CAAA,EAAA,MAAA,CAAA,CAAA;;;;AAArC,GAAA,IAAA,KAAA,UAAA,EAAA,IAAA,OAAA,MAAA,OAAA,UAAA,GAAE,IAAC,6BAA6B,CAAA,GAAA,EAAA,CAAA,EAAA,YAAA,CAAA,CAAA,EAAA,OAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SAK1C,CAAC;cACI,IAAI;aACL,CAAC;;;kBAEA,GAAQ,CAAA,CAAA,CAAA,KAAA,KAAA,CAAA,EAAA;sCAAR,GAAQ,CAAA,CAAA,CAAA,CAAA;;;;;mCADT,GAAM,CAAA,CAAA,CAAA,CAAA,CAAA;;;;;;;;SAKV,CAAC;cACI,IAAI;aACL,CAAC;;;;kBAGA,GAAQ,CAAA,CAAA,CAAA,KAAA,KAAA,CAAA,EAAA;sCAAR,GAAQ,CAAA,CAAA,CAAA,CAAA;;;;;mCADT,GAAM,CAAA,CAAA,CAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;0CARL,GAAQ,CAAA,CAAA,CAAA,CAAA;;;;;;;;;0CASR,GAAQ,CAAA,CAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKnB,CAAA,IAAA,OAAA,UAAA,GAAE,IAAC,aAAa,CAAA,GAAA,EAAA,CAAA;;;;;;;;;;;AAAhB,GAAA,IAAA,KAAA,UAAA,EAAA,IAAA,OAAA,MAAA,OAAA,UAAA,GAAE,IAAC,aAAa,CAAA,GAAA,EAAA,CAAA,EAAA,YAAA,CAAA,CAAA,EAAA,OAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;AAjCd,CAAA,IAAA,QAAA,UAAA,GAAE,IAAC,aAAa,CAAA,GAAA,EAAA,CAAA;;;;;;;;;;kCAChB,GAAY,CAAA,CAAA,CAAA,IAAA,iBAAA,CAAA,GAAA,CAAA,CAAA;8BAGZ,GAAQ,CAAA,CAAA,CAAA,IAAA,iBAAA,CAAA,GAAA,CAAA,CAAA;2CAKR,GAAqB,CAAA,CAAA,CAAA,IAAA,eAAA,CAAA,GAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;oCAuBwB,GAAM,CAAA,CAAA,CAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;GAhCxD,UAA2B,CAAA,MAAA,EAAA,EAAA,EAAA,MAAA,CAAA,CAAA;;;;;;;;;;;;;;;AAAtB,GAAA,IAAA,CAAA,CAAA,OAAA,IAAA,KAAA,UAAA,EAAA,KAAA,QAAA,MAAA,QAAA,UAAA,GAAE,IAAC,aAAa,CAAA,GAAA,EAAA,CAAA,EAAA,YAAA,CAAA,EAAA,EAAA,QAAA,CAAA,CAAA;;wBAChB,GAAY,CAAA,CAAA,CAAA,EAAA;;;;;;;;;;;;;oBAGZ,GAAQ,CAAA,CAAA,CAAA,EAAA;;;;;;;;;;;;;iCAKR,GAAqB,CAAA,CAAA,CAAA,EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAVQ,GAAG;;;;;;;;;;;;kDADD,GAAQ,CAAA,CAAA,CAAA,CAAA,CAAA;;;;;;;GAA9C,UAsCK,CAAA,MAAA,EAAA,GAAA,EAAA,MAAA,CAAA,CAAA;;;;;;;;;;;;;;mDAtCiC,GAAQ,CAAA,CAAA,CAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;OA5BlC,IAAY,EAAA,GAAA,OAAA,CAAA;OACZ,YAA2B,EAAA,GAAA,OAAA,CAAA;OAC3B,QAAiB,EAAA,GAAA,OAAA,CAAA;OACjB,QAAuB,EAAA,GAAA,OAAA,CAAA;AAE9B,CAAA,IAAA,QAAQ,GAAG,EAAE,CAAA;AACb,CAAA,IAAA,QAAQ,GAAG,EAAE,CAAA;AACb,CAAA,IAAA,qBAAqB,GAAG,KAAK,CAAA;;OAE3B,MAAM,GAAA,YAAA;AACL,EAAA,MAAA,QAAQ,OAAO,QAAQ,EAAA,CAAA;AAC7B,EAAA,QAAQ,CAAC,MAAM,CAAC,UAAU,EAAE,QAAQ,CAAA,CAAA;AACpC,EAAA,QAAQ,CAAC,MAAM,CAAC,UAAU,EAAE,QAAQ,CAAA,CAAA;AAEhC,EAAA,IAAA,QAAQ,GAAS,MAAA,KAAK,CAAC,IAAI,GAAG,QAAQ,EACzC,EAAA,MAAM,EAAE,MAAM,EACd,IAAI,EAAE,QAAA,EAAA,CAAA,CAAA;;MAEH,QAAQ,CAAC,MAAM,KAAK,GAAG,EAAA;AAC1B,GAAA,YAAA,CAAA,CAAA,EAAA,qBAAqB,GAAG,IAAI,CAAA,CAAA;AAC5B,GAAA,YAAA,CAAA,CAAA,EAAA,QAAQ,GAAG,EAAE,CAAA,CAAA;AACb,GAAA,YAAA,CAAA,CAAA,EAAA,QAAQ,GAAG,EAAE,CAAA,CAAA;aACH,QAAQ,CAAC,MAAM,IAAI,GAAG,EAAA;AAChC,GAAA,QAAQ,CAAC,MAAM,EAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA0BF,QAAQ,GAAA,KAAA,CAAA;;;;;EASR,QAAQ,GAAA,KAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}