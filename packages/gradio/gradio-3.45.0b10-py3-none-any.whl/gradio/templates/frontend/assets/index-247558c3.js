import{a as Q,i as X,s as x,I as S,b as f,d as M,f as b,n as T,h as j,t as ee,e as B,y as A,J as N,k as g,B as R,l as v,C as D,af as ye,j as E,m as U,o as q,a1 as Ve,H as Te,a0 as Ge,E as Pe,U as te,G as Be,W as Me,K as W,w as Re,c as P,V as Y,O as oe,g as De,v as Ee,S as Ue,z as qe,A as Ae}from"./index-921c1568.js";import{u as fe,d as Ne,g as ue,B as Ze,n as Ie}from"./Button-b905ffac.js";import{S as Oe}from"./ShareButton-1ede2b5a.js";import{M as pe}from"./StaticMarkdown-549ca9a1.js";import{C as Fe,a as Je}from"./Copy-1c9bb4d5.js";import{B as Ke}from"./BlockLabel-08158c7f.js";import"./IconButton-a3e6052f.js";function We(t){let e,i,n;return{c(){e=S("svg"),i=S("path"),n=S("path"),f(i,"fill","currentColor"),f(i,"d","M17.74 30L16 29l4-7h6a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h9v2H6a4 4 0 0 1-4-4V8a4 4 0 0 1 4-4h20a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4h-4.84Z"),f(n,"fill","currentColor"),f(n,"d","M8 10h16v2H8zm0 6h10v2H8z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),f(e,"aria-hidden","true"),f(e,"role","img"),f(e,"class","iconify iconify--carbon"),f(e,"width","100%"),f(e,"height","100%"),f(e,"preserveAspectRatio","xMidYMid meet"),f(e,"viewBox","0 0 32 32")},m(l,r){M(l,e,r),b(e,i),b(e,n)},p:T,i:T,o:T,d(l){l&&j(e)}}}class Ye extends Q{constructor(e){super(),X(this,e,null,We,x,{})}}function Qe(t){let e,i,n,l,r,a,o,s,u,_,h,m,H;return{c(){e=S("svg"),i=S("g"),n=S("g"),l=S("g"),r=S("title"),a=ee("dislike [#1388]"),o=S("desc"),s=ee("Created with Sketch."),u=S("defs"),_=S("g"),h=S("g"),m=S("g"),H=S("path"),f(i,"id","SVGRepo_bgCarrier"),f(i,"stroke-width","0"),f(n,"id","SVGRepo_tracerCarrier"),f(n,"stroke-linecap","round"),f(n,"stroke-linejoin","round"),f(H,"d","M101.900089,600 L99.8000892,600 L99.8000892,611.987622 L101.900089,611.987622 C103.060339,611.987622 104.000088,611.093545 104.000088,609.989685 L104.000088,601.997937 C104.000088,600.894077 103.060339,600 101.900089,600 M87.6977917,600 L97.7000896,600 L97.7000896,611.987622 L95.89514,618.176232 C95.6819901,619.491874 94.2455904,620.374962 92.7902907,619.842512 C91.9198408,619.52484 91.400091,618.66273 91.400091,617.774647 L91.400091,612.986591 C91.400091,612.43516 90.9296911,611.987622 90.3500912,611.987622 L85.8728921,611.987622 C84.0259425,611.987622 82.6598928,610.35331 83.0746427,608.641078 L84.8995423,602.117813 C85.1998423,600.878093 86.360092,600 87.6977917,600"),f(H,"id","dislike-[#1388]"),f(m,"id","icons"),f(m,"transform","translate(56.000000, 160.000000)"),f(h,"id","Dribbble-Light-Preview"),f(h,"transform","translate(-139.000000, -760.000000)"),f(h,"fill","currentColor"),f(_,"id","Page-1"),f(_,"stroke","none"),f(_,"stroke-width","1"),f(_,"fill","none"),f(_,"fill-rule","evenodd"),f(l,"id","SVGRepo_iconCarrier"),f(e,"viewBox","0 -3 32 32"),f(e,"height","100%"),f(e,"width","100%"),f(e,"version","1.1"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),f(e,"fill","currentColor")},m(C,G){M(C,e,G),b(e,i),b(e,n),b(e,l),b(l,r),b(r,a),b(l,o),b(o,s),b(l,u),b(l,_),b(_,h),b(h,m),b(m,H)},p:T,i:T,o:T,d(C){C&&j(e)}}}class Xe extends Q{constructor(e){super(),X(this,e,null,Qe,x,{})}}function xe(t){let e,i,n,l,r,a,o,s,u,_,h,m,H;return{c(){e=S("svg"),i=S("g"),n=S("g"),l=S("g"),r=S("title"),a=ee("like [#1385]"),o=S("desc"),s=ee("Created with Sketch."),u=S("defs"),_=S("g"),h=S("g"),m=S("g"),H=S("path"),f(i,"id","SVGRepo_bgCarrier"),f(i,"stroke-width","0"),f(n,"id","SVGRepo_tracerCarrier"),f(n,"stroke-linecap","round"),f(n,"stroke-linejoin","round"),f(H,"d","M203,620 L207.200006,620 L207.200006,608 L203,608 L203,620 Z M223.924431,611.355 L222.100579,617.89 C221.799228,619.131 220.638976,620 219.302324,620 L209.300009,620 L209.300009,608.021 L211.104962,601.825 C211.274012,600.775 212.223214,600 213.339366,600 C214.587817,600 215.600019,600.964 215.600019,602.153 L215.600019,608 L221.126177,608 C222.97313,608 224.340232,609.641 223.924431,611.355 L223.924431,611.355 Z"),f(H,"id","like-[#1385]"),f(m,"id","icons"),f(m,"transform","translate(56.000000, 160.000000)"),f(h,"id","Dribbble-Light-Preview"),f(h,"transform","translate(-259.000000, -760.000000)"),f(h,"fill","currentColor"),f(_,"id","Page-1"),f(_,"stroke","none"),f(_,"stroke-width","1"),f(_,"fill","none"),f(_,"fill-rule","evenodd"),f(l,"id","SVGRepo_iconCarrier"),f(e,"viewBox","0 0 32 32"),f(e,"height","100%"),f(e,"width","100%"),f(e,"version","1.1"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),f(e,"fill","currentColor")},m(C,G){M(C,e,G),b(e,i),b(e,n),b(e,l),b(l,r),b(r,a),b(l,o),b(o,s),b(l,u),b(l,_),b(_,h),b(h,m),b(m,H)},p:T,i:T,o:T,d(C){C&&j(e)}}}class $e extends Q{constructor(e){super(),X(this,e,null,xe,x,{})}}const el=async t=>(await Promise.all(t.map(async i=>await Promise.all(i.map(async(n,l)=>{if(n===null)return"";let r=l===0?"ðŸ˜ƒ":"ðŸ¤–",a="";if(typeof n=="string"){const o={audio:/<audio.*?src="(\/file=.*?)"/g,video:/<video.*?src="(\/file=.*?)"/g,image:/<img.*?src="(\/file=.*?)".*?\/>|!\[.*?\]\((\/file=.*?)\)/g};a=n;for(let[s,u]of Object.entries(o)){let _;for(;(_=u.exec(n))!==null;){const h=_[1]||_[2],m=await fe(h,"url");a=a.replace(h,m)}}}else{const o=await fe(n.data,"url");n.mime_type?.includes("audio")?a=`<audio controls src="${o}"></audio>`:n.mime_type?.includes("video")?a=o:n.mime_type?.includes("image")&&(a=`<img src="${o}" />`)}return`${r}: ${a}`}))))).map(i=>i.join(i[0]!==""&&i[1]!==""?`
`:"")).join(`
`);function _e(t){let e,i,n;return i=new Fe({}),{c(){e=B("span"),E(i.$$.fragment)},m(l,r){M(l,e,r),U(i,e,null),n=!0},i(l){n||(g(i.$$.fragment,l),n=!0)},o(l){v(i.$$.fragment,l),n=!1},d(l){l&&j(e),q(i)}}}function ce(t){let e,i,n;return i=new Je({}),{c(){e=B("span"),E(i.$$.fragment)},m(l,r){M(l,e,r),U(i,e,null),n=!0},i(l){n||(g(i.$$.fragment,l),n=!0)},o(l){v(i.$$.fragment,l),n=!1},d(l){l&&j(e),q(i)}}}function ll(t){let e,i,n,l,r,a=!t[0]&&_e(),o=t[0]&&ce();return{c(){e=B("button"),a&&a.c(),i=A(),o&&o.c(),f(e,"title","copy"),f(e,"class","svelte-jdgjqu")},m(s,u){M(s,e,u),a&&a.m(e,null),b(e,i),o&&o.m(e,null),n=!0,l||(r=N(e,"click",t[1]),l=!0)},p(s,[u]){s[0]?a&&(R(),v(a,1,1,()=>{a=null}),D()):a?u&1&&g(a,1):(a=_e(),a.c(),g(a,1),a.m(e,i)),s[0]?o?u&1&&g(o,1):(o=ce(),o.c(),g(o,1),o.m(e,null)):o&&(R(),v(o,1,1,()=>{o=null}),D())},i(s){n||(g(a),g(o),n=!0)},o(s){v(a),v(o),n=!1},d(s){s&&j(e),a&&a.d(),o&&o.d(),l=!1,r()}}}function tl(t,e,i){let n=!1,{value:l}=e,r;function a(){i(0,n=!0),r&&clearTimeout(r),r=setTimeout(()=>{i(0,n=!1)},2e3)}async function o(){if("clipboard"in navigator)await navigator.clipboard.writeText(l),a();else{const s=document.createElement("textarea");s.value=l,s.style.position="absolute",s.style.left="-999999px",document.body.prepend(s),s.select();try{document.execCommand("copy"),a()}catch(u){console.error(u)}finally{s.remove()}}}return ye(()=>{r&&clearTimeout(r)}),t.$$set=s=>{"value"in s&&i(2,l=s.value)},[n,o,l]}class il extends Q{constructor(e){super(),X(this,e,tl,ll,x,{value:2})}}function he(t,e,i){const n=t.slice();return n[33]=e[i],n[35]=i,n}function de(t,e,i){const n=t.slice();return n[36]=e[i],n[38]=i,n}function me(t){let e,i,n;return i=new Oe({props:{i18n:t[13],formatter:el,value:t[0]}}),i.$on("error",t[25]),i.$on("share",t[26]),{c(){e=B("div"),E(i.$$.fragment),f(e,"class","share-button svelte-e2ohvr")},m(l,r){M(l,e,r),U(i,e,null),n=!0},p(l,r){const a={};r[0]&8192&&(a.i18n=l[13]),r[0]&1&&(a.value=l[0]),i.$set(a)},i(l){n||(g(i.$$.fragment,l),n=!0)},o(l){v(i.$$.fragment,l),n=!1},d(l){l&&j(e),q(i)}}}function ge(t){let e,i,n=te(t[0]),l=[];for(let a=0;a<n.length;a+=1)l[a]=Ce(he(t,n,a));const r=a=>v(l[a],1,1,()=>{l[a]=null});return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=Be()},m(a,o){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(a,o);M(a,e,o),i=!0},p(a,o){if(o[0]&237531){n=te(a[0]);let s;for(s=0;s<n.length;s+=1){const u=he(a,n,s);l[s]?(l[s].p(u,o),g(l[s],1)):(l[s]=Ce(u),l[s].c(),g(l[s],1),l[s].m(e.parentNode,e))}for(R(),s=n.length;s<l.length;s+=1)r(s);D()}},i(a){if(!i){for(let o=0;o<n.length;o+=1)g(l[o]);i=!0}},o(a){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)v(l[o]);i=!1},d(a){a&&j(e),Me(l,a)}}}function be(t){let e,i,n;return{c(){e=B("div"),i=B("img"),f(i,"class","avatar-image svelte-e2ohvr"),Y(i.src,n=ue(t[8][t[38]],t[11],t[12]))||f(i,"src",n),f(i,"alt","avatar-"+(t[38]==0?"user":"bot")),f(e,"class","avatar-container svelte-e2ohvr")},m(l,r){M(l,e,r),b(e,i)},p(l,r){r[0]&6400&&!Y(i.src,n=ue(l[8][l[38]],l[11],l[12]))&&f(i,"src",n)},d(l){l&&j(e)}}}function ve(t){let e,i,n,l,r,a,o,s,u;n=new $e({});function _(){return t[27](t[35],t[38],t[36])}a=new Xe({});function h(){return t[28](t[35],t[38],t[36])}return{c(){e=B("div"),i=B("button"),E(n.$$.fragment),l=A(),r=B("button"),E(a.$$.fragment),f(i,"class","svelte-e2ohvr"),f(r,"class","svelte-e2ohvr"),f(e,"class","like svelte-e2ohvr")},m(m,H){M(m,e,H),b(e,i),U(n,i,null),b(e,l),b(e,r),U(a,r,null),o=!0,s||(u=[N(i,"click",_),N(r,"click",h)],s=!0)},p(m,H){t=m},i(m){o||(g(n.$$.fragment,m),g(a.$$.fragment,m),o=!0)},o(m){v(n.$$.fragment,m),v(a.$$.fragment,m),o=!1},d(m){m&&j(e),q(n),q(a),s=!1,oe(u)}}}function we(t){let e,i,n;return i=new il({props:{value:t[36]}}),{c(){e=B("div"),E(i.$$.fragment),f(e,"class","copy-button svelte-e2ohvr")},m(l,r){M(l,e,r),U(i,e,null),n=!0},p(l,r){const a={};r[0]&1&&(a.value=l[36]),i.$set(a)},i(l){n||(g(i.$$.fragment,l),n=!0)},o(l){v(i.$$.fragment,l),n=!1},d(l){l&&j(e),q(i)}}}function nl(t){let e,i=(t[36].file.orig_name||t[36].file.name)+"",n,l,r;return{c(){e=B("a"),n=ee(i),f(e,"data-testid","chatbot-file"),f(e,"href",l=t[36].file.data),f(e,"target","_blank"),f(e,"download",r=window.__is_colab__?null:t[36].file.orig_name||t[36].file.name),f(e,"class","svelte-e2ohvr")},m(a,o){M(a,e,o),b(e,n)},p(a,o){o[0]&1&&i!==(i=(a[36].file.orig_name||a[36].file.name)+"")&&De(n,i),o[0]&1&&l!==(l=a[36].file.data)&&f(e,"href",l),o[0]&1&&r!==(r=window.__is_colab__?null:a[36].file.orig_name||a[36].file.name)&&f(e,"download",r)},i:T,o:T,d(a){a&&j(e)}}}function al(t){let e,i,n;return{c(){e=B("img"),f(e,"data-testid","chatbot-image"),Y(e.src,i=t[36].file.data)||f(e,"src",i),f(e,"alt",n=t[36].alt_text),f(e,"class","svelte-e2ohvr")},m(l,r){M(l,e,r)},p(l,r){r[0]&1&&!Y(e.src,i=l[36].file.data)&&f(e,"src",i),r[0]&1&&n!==(n=l[36].alt_text)&&f(e,"alt",n)},i:T,o:T,d(l){l&&j(e)}}}function sl(t){let e,i,n,l,r,a;return{c(){e=B("video"),i=B("track"),f(i,"kind","captions"),f(i,"class","svelte-e2ohvr"),f(e,"data-testid","chatbot-video"),e.controls=!0,Y(e.src,n=t[36].file.data)||f(e,"src",n),f(e,"title",l=t[36].alt_text),f(e,"preload","auto"),f(e,"class","svelte-e2ohvr")},m(o,s){M(o,e,s),b(e,i),r||(a=[N(e,"play",t[22]),N(e,"pause",t[23]),N(e,"ended",t[24])],r=!0)},p(o,s){s[0]&1&&!Y(e.src,n=o[36].file.data)&&f(e,"src",n),s[0]&1&&l!==(l=o[36].alt_text)&&f(e,"title",l)},i:T,o:T,d(o){o&&j(e),r=!1,oe(a)}}}function rl(t){let e,i,n,l,r;return{c(){e=B("audio"),f(e,"data-testid","chatbot-audio"),e.controls=!0,f(e,"preload","metadata"),Y(e.src,i=t[36].file.data)||f(e,"src",i),f(e,"title",n=t[36].alt_text),f(e,"class","svelte-e2ohvr")},m(a,o){M(a,e,o),l||(r=[N(e,"play",t[19]),N(e,"pause",t[20]),N(e,"ended",t[21])],l=!0)},p(a,o){o[0]&1&&!Y(e.src,i=a[36].file.data)&&f(e,"src",i),o[0]&1&&n!==(n=a[36].alt_text)&&f(e,"title",n)},i:T,o:T,d(a){a&&j(e),l=!1,oe(r)}}}function ol(t){let e,i;return e=new pe({props:{message:t[36],latex_delimiters:t[1],sanitize_html:t[9]}}),e.$on("load",t[15]),{c(){E(e.$$.fragment)},m(n,l){U(e,n,l),i=!0},p(n,l){const r={};l[0]&1&&(r.message=n[36]),l[0]&2&&(r.latex_delimiters=n[1]),l[0]&512&&(r.sanitize_html=n[9]),e.$set(r)},i(n){i||(g(e.$$.fragment,n),i=!0)},o(n){v(e.$$.fragment,n),i=!1},d(n){q(e,n)}}}function ke(t){let e,i,n,l,r,a,o,s,u,_,h,m,H,C,G,p,y=t[8][t[38]]!==null&&be(t),w=t[4]&&t[38]==1&&ve(t),L=t[7]&&t[36]&&typeof t[36]=="string"&&we(t);const Z=[ol,rl,sl,al,nl],V=[];function F(z,k){return k[0]&1&&(o=null),k[0]&1&&(s=null),k[0]&1&&(u=null),typeof z[36]=="string"?0:(o==null&&(o=!!(z[36]!==null&&z[36].file.mime_type?.includes("audio"))),o?1:(s==null&&(s=!!(z[36]!==null&&z[36].file.mime_type?.includes("video"))),s?2:(u==null&&(u=!!(z[36]!==null&&z[36].file.mime_type?.includes("image"))),u?3:z[36]!==null&&z[36].file.data!==null?4:-1)))}~(_=F(t,[-1,-1]))&&(h=V[_]=Z[_](t));function J(){return t[29](t[35],t[38],t[36])}return{c(){e=B("div"),y&&y.c(),i=A(),n=B("div"),l=B("div"),w&&w.c(),r=A(),L&&L.c(),a=A(),h&&h.c(),H=A(),f(l,"class","message-buttons-"+(t[38]==0?"user":"bot")+" svelte-e2ohvr"),P(l,"message-buttons-fit",!t[10]),P(l,"hide",t[36]===null),f(n,"data-testid",t[38]==0?"user":"bot"),f(n,"class","message "+(t[38]==0?"user":"bot")+" svelte-e2ohvr"),f(n,"dir",m=t[6]?"rtl":"ltr"),P(n,"latest",t[35]===t[0].length-1),P(n,"message-fit",!t[10]),P(n,"selectable",t[3]),f(e,"class","message-row "+(t[38]==0?"user-row":"bot-row")+" svelte-e2ohvr"),P(e,"hide",t[36]===null)},m(z,k){M(z,e,k),y&&y.m(e,null),b(e,i),b(e,n),b(n,l),w&&w.m(l,null),b(l,r),L&&L.m(l,null),b(n,a),~_&&V[_].m(n,null),b(e,H),C=!0,G||(p=N(n,"click",J),G=!0)},p(z,k){t=z,t[8][t[38]]!==null?y?y.p(t,k):(y=be(t),y.c(),y.m(e,i)):y&&(y.d(1),y=null),t[4]&&t[38]==1?w?(w.p(t,k),k[0]&16&&g(w,1)):(w=ve(t),w.c(),g(w,1),w.m(l,r)):w&&(R(),v(w,1,1,()=>{w=null}),D()),t[7]&&t[36]&&typeof t[36]=="string"?L?(L.p(t,k),k[0]&129&&g(L,1)):(L=we(t),L.c(),g(L,1),L.m(l,null)):L&&(R(),v(L,1,1,()=>{L=null}),D()),(!C||k[0]&1024)&&P(l,"message-buttons-fit",!t[10]),(!C||k[0]&1)&&P(l,"hide",t[36]===null);let K=_;_=F(t,k),_===K?~_&&V[_].p(t,k):(h&&(R(),v(V[K],1,1,()=>{V[K]=null}),D()),~_?(h=V[_],h?h.p(t,k):(h=V[_]=Z[_](t),h.c()),g(h,1),h.m(n,null)):h=null),(!C||k[0]&64&&m!==(m=t[6]?"rtl":"ltr"))&&f(n,"dir",m),(!C||k[0]&1)&&P(n,"latest",t[35]===t[0].length-1),(!C||k[0]&1024)&&P(n,"message-fit",!t[10]),(!C||k[0]&8)&&P(n,"selectable",t[3]),(!C||k[0]&1)&&P(e,"hide",t[36]===null)},i(z){C||(g(w),g(L),g(h),C=!0)},o(z){v(w),v(L),v(h),C=!1},d(z){z&&j(e),y&&y.d(),w&&w.d(),L&&L.d(),~_&&V[_].d(),G=!1,p()}}}function Ce(t){let e,i,n=te(t[33]),l=[];for(let a=0;a<n.length;a+=1)l[a]=ke(de(t,n,a));const r=a=>v(l[a],1,1,()=>{l[a]=null});return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=Be()},m(a,o){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(a,o);M(a,e,o),i=!0},p(a,o){if(o[0]&237531){n=te(a[33]);let s;for(s=0;s<n.length;s+=1){const u=de(a,n,s);l[s]?(l[s].p(u,o),g(l[s],1)):(l[s]=ke(u),l[s].c(),g(l[s],1),l[s].m(e.parentNode,e))}for(R(),s=n.length;s<l.length;s+=1)r(s);D()}},i(a){if(!i){for(let o=0;o<n.length;o+=1)g(l[o]);i=!0}},o(a){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)v(l[o]);i=!1},d(a){a&&j(e),Me(l,a)}}}function Le(t){let e;return{c(){e=B("div"),e.innerHTML=`<div class="dot-flashing svelte-e2ohvr"></div>
				Â 
				<div class="dot-flashing svelte-e2ohvr"></div>
				Â 
				<div class="dot-flashing svelte-e2ohvr"></div>`,f(e,"class","message pending svelte-e2ohvr")},m(i,n){M(i,e,n)},d(i){i&&j(e)}}}function fl(t){let e,i,n,l,r,a,o,s=t[5]&&t[0]!==null&&t[0].length>0&&me(t),u=t[0]!==null&&ge(t),_=t[2]&&Le();return{c(){s&&s.c(),e=A(),i=B("div"),n=B("div"),u&&u.c(),l=A(),_&&_.c(),f(n,"class","message-wrap svelte-e2ohvr"),f(i,"class","wrap svelte-e2ohvr")},m(h,m){s&&s.m(h,m),M(h,e,m),M(h,i,m),b(i,n),u&&u.m(n,null),b(n,l),_&&_.m(n,null),t[30](i),r=!0,a||(o=Ve(Ne.call(null,n)),a=!0)},p(h,m){h[5]&&h[0]!==null&&h[0].length>0?s?(s.p(h,m),m[0]&33&&g(s,1)):(s=me(h),s.c(),g(s,1),s.m(e.parentNode,e)):s&&(R(),v(s,1,1,()=>{s=null}),D()),h[0]!==null?u?(u.p(h,m),m[0]&1&&g(u,1)):(u=ge(h),u.c(),g(u,1),u.m(n,l)):u&&(R(),v(u,1,1,()=>{u=null}),D()),h[2]?_||(_=Le(),_.c(),_.m(n,null)):_&&(_.d(1),_=null)},i(h){r||(g(s),g(u),r=!0)},o(h){v(s),v(u),r=!1},d(h){h&&(j(e),j(i)),s&&s.d(h),u&&u.d(),_&&_.d(),t[30](null),a=!1,o()}}}function ul(t,e,i){let{value:n}=e,l=null,{latex_delimiters:r}=e,{pending_message:a=!1}=e,{selectable:o=!1}=e,{likeable:s=!1}=e,{show_share_button:u=!1}=e,{rtl:_=!1}=e,{show_copy_button:h=!1}=e,{avatar_images:m=[null,null]}=e,{sanitize_html:H=!0}=e,{bubble_full_width:C=!0}=e,{root:G}=e,{root_url:p}=e,{i18n:y}=e,w,L;const Z=Te();Ge(()=>{L=w&&w.offsetHeight+w.scrollTop>w.scrollHeight-100});const V=()=>{L&&w.scrollTo(0,w.scrollHeight)};Pe(()=>{L&&(V(),w.querySelectorAll("img").forEach(d=>{d.addEventListener("load",()=>{V()})}))});function F(d,I,O){Z("select",{index:[d,I],value:O})}function J(d,I,O,He){Z("like",{index:[d,I],value:O,liked:He})}function z(d){W.call(this,t,d)}function k(d){W.call(this,t,d)}function K(d){W.call(this,t,d)}function le(d){W.call(this,t,d)}function ie(d){W.call(this,t,d)}function ne(d){W.call(this,t,d)}function ae(d){W.call(this,t,d)}function se(d){W.call(this,t,d)}const re=(d,I,O)=>J(d,I,O,!0),c=(d,I,O)=>J(d,I,O,!1),$=(d,I,O)=>F(d,I,O);function je(d){Re[d?"unshift":"push"](()=>{w=d,i(14,w)})}return t.$$set=d=>{"value"in d&&i(0,n=d.value),"latex_delimiters"in d&&i(1,r=d.latex_delimiters),"pending_message"in d&&i(2,a=d.pending_message),"selectable"in d&&i(3,o=d.selectable),"likeable"in d&&i(4,s=d.likeable),"show_share_button"in d&&i(5,u=d.show_share_button),"rtl"in d&&i(6,_=d.rtl),"show_copy_button"in d&&i(7,h=d.show_copy_button),"avatar_images"in d&&i(8,m=d.avatar_images),"sanitize_html"in d&&i(9,H=d.sanitize_html),"bubble_full_width"in d&&i(10,C=d.bubble_full_width),"root"in d&&i(11,G=d.root),"root_url"in d&&i(12,p=d.root_url),"i18n"in d&&i(13,y=d.i18n)},t.$$.update=()=>{t.$$.dirty[0]&262145&&n!==l&&(i(18,l=n),Z("change"))},[n,r,a,o,s,u,_,h,m,H,C,G,p,y,w,V,F,J,l,z,k,K,le,ie,ne,ae,se,re,c,$,je]}class _l extends Q{constructor(e){super(),X(this,e,ul,fl,x,{value:0,latex_delimiters:1,pending_message:2,selectable:3,likeable:4,show_share_button:5,rtl:6,show_copy_button:7,avatar_images:8,sanitize_html:9,bubble_full_width:10,root:11,root_url:12,i18n:13},null,[-1,-1])}}function Se(t){let e,i;const n=[{autoscroll:t[18].autoscroll},{i18n:t[18].i18n},t[20],{show_progress:t[20].show_progress==="hidden"?"hidden":"minimal"}];let l={};for(let r=0;r<n.length;r+=1)l=Ee(l,n[r]);return e=new Ue({props:l}),{c(){E(e.$$.fragment)},m(r,a){U(e,r,a),i=!0},p(r,a){const o=a&1310720?qe(n,[a&262144&&{autoscroll:r[18].autoscroll},a&262144&&{i18n:r[18].i18n},a&1048576&&Ae(r[20]),a&1048576&&{show_progress:r[20].show_progress==="hidden"?"hidden":"minimal"}]):{};e.$set(o)},i(r){i||(g(e.$$.fragment,r),i=!0)},o(r){v(e.$$.fragment,r),i=!1},d(r){q(e,r)}}}function ze(t){let e,i;return e=new Ke({props:{show_label:t[7],Icon:Ye,float:!1,label:t[6]||"Chatbot"}}),{c(){E(e.$$.fragment)},m(n,l){U(e,n,l),i=!0},p(n,l){const r={};l&128&&(r.show_label=n[7]),l&64&&(r.label=n[6]||"Chatbot"),e.$set(r)},i(n){i||(g(e.$$.fragment,n),i=!0)},o(n){v(e.$$.fragment,n),i=!1},d(n){q(e,n)}}}function cl(t){let e,i,n,l,r,a=t[20]&&Se(t),o=t[7]&&ze(t);return l=new _l({props:{i18n:t[18].i18n,selectable:t[10],likeable:t[11],show_share_button:t[12],value:t[22],latex_delimiters:t[17],pending_message:t[20]?.status==="pending",rtl:t[13],show_copy_button:t[14],avatar_images:t[19],sanitize_html:t[15],bubble_full_width:t[16],root_url:t[9],root:t[8]}}),l.$on("change",t[23]),l.$on("select",t[24]),l.$on("like",t[25]),l.$on("share",t[26]),l.$on("error",t[27]),{c(){a&&a.c(),e=A(),i=B("div"),o&&o.c(),n=A(),E(l.$$.fragment),f(i,"class","wrapper svelte-nab2ao")},m(s,u){a&&a.m(s,u),M(s,e,u),M(s,i,u),o&&o.m(i,null),b(i,n),U(l,i,null),r=!0},p(s,u){s[20]?a?(a.p(s,u),u&1048576&&g(a,1)):(a=Se(s),a.c(),g(a,1),a.m(e.parentNode,e)):a&&(R(),v(a,1,1,()=>{a=null}),D()),s[7]?o?(o.p(s,u),u&128&&g(o,1)):(o=ze(s),o.c(),g(o,1),o.m(i,n)):o&&(R(),v(o,1,1,()=>{o=null}),D());const _={};u&262144&&(_.i18n=s[18].i18n),u&1024&&(_.selectable=s[10]),u&2048&&(_.likeable=s[11]),u&4096&&(_.show_share_button=s[12]),u&4194304&&(_.value=s[22]),u&131072&&(_.latex_delimiters=s[17]),u&1048576&&(_.pending_message=s[20]?.status==="pending"),u&8192&&(_.rtl=s[13]),u&16384&&(_.show_copy_button=s[14]),u&524288&&(_.avatar_images=s[19]),u&32768&&(_.sanitize_html=s[15]),u&65536&&(_.bubble_full_width=s[16]),u&512&&(_.root_url=s[9]),u&256&&(_.root=s[8]),l.$set(_)},i(s){r||(g(a),g(o),g(l.$$.fragment,s),r=!0)},o(s){v(a),v(o),v(l.$$.fragment,s),r=!1},d(s){s&&(j(e),j(i)),a&&a.d(s),o&&o.d(),q(l)}}}function hl(t){let e,i;return e=new Ze({props:{elem_id:t[0],elem_classes:t[1],visible:t[2],padding:!1,scale:t[4],min_width:t[5],height:t[21],allow_overflow:!1,$$slots:{default:[cl]},$$scope:{ctx:t}}}),{c(){E(e.$$.fragment)},m(n,l){U(e,n,l),i=!0},p(n,[l]){const r={};l&1&&(r.elem_id=n[0]),l&2&&(r.elem_classes=n[1]),l&4&&(r.visible=n[2]),l&16&&(r.scale=n[4]),l&32&&(r.min_width=n[5]),l&2097152&&(r.height=n[21]),l&1080033224&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){i||(g(e.$$.fragment,n),i=!0)},o(n){v(e.$$.fragment,n),i=!1},d(n){q(e,n)}}}function dl(t,e,i){let{elem_id:n=""}=e,{elem_classes:l=[]}=e,{visible:r=!0}=e,{value:a=[]}=e,{scale:o=null}=e,{min_width:s=void 0}=e,{label:u}=e,{show_label:_=!0}=e,{root:h}=e,{root_url:m}=e,{selectable:H=!1}=e,{likeable:C=!1}=e,{show_share_button:G=!1}=e,{rtl:p=!1}=e,{show_copy_button:y=!1}=e,{sanitize_html:w=!0}=e,{bubble_full_width:L=!0}=e,{latex_delimiters:Z}=e,{gradio:V}=e,{avatar_images:F=[null,null]}=e,J;const z=c=>c.replace('src="/file',`src="${h}file`);function k(c){return c===null?c:{file:Ie(c?.file,h,m),alt_text:c?.alt_text}}let{loading_status:K=void 0}=e,{height:le=400}=e;const ie=()=>V.dispatch("change",a),ne=c=>V.dispatch("select",c.detail),ae=c=>V.dispatch("like",c.detail),se=c=>V.dispatch("share",c.detail),re=c=>V.dispatch("error",c.detail);return t.$$set=c=>{"elem_id"in c&&i(0,n=c.elem_id),"elem_classes"in c&&i(1,l=c.elem_classes),"visible"in c&&i(2,r=c.visible),"value"in c&&i(3,a=c.value),"scale"in c&&i(4,o=c.scale),"min_width"in c&&i(5,s=c.min_width),"label"in c&&i(6,u=c.label),"show_label"in c&&i(7,_=c.show_label),"root"in c&&i(8,h=c.root),"root_url"in c&&i(9,m=c.root_url),"selectable"in c&&i(10,H=c.selectable),"likeable"in c&&i(11,C=c.likeable),"show_share_button"in c&&i(12,G=c.show_share_button),"rtl"in c&&i(13,p=c.rtl),"show_copy_button"in c&&i(14,y=c.show_copy_button),"sanitize_html"in c&&i(15,w=c.sanitize_html),"bubble_full_width"in c&&i(16,L=c.bubble_full_width),"latex_delimiters"in c&&i(17,Z=c.latex_delimiters),"gradio"in c&&i(18,V=c.gradio),"avatar_images"in c&&i(19,F=c.avatar_images),"loading_status"in c&&i(20,K=c.loading_status),"height"in c&&i(21,le=c.height)},t.$$.update=()=>{t.$$.dirty&8&&i(22,J=a?a.map(([c,$])=>[typeof c=="string"?z(c):k(c),typeof $=="string"?z($):k($)]):[])},[n,l,r,a,o,s,u,_,h,m,H,C,G,p,y,w,L,Z,V,F,K,le,J,ie,ne,ae,se,re]}class ml extends Q{constructor(e){super(),X(this,e,dl,hl,x,{elem_id:0,elem_classes:1,visible:2,value:3,scale:4,min_width:5,label:6,show_label:7,root:8,root_url:9,selectable:10,likeable:11,show_share_button:12,rtl:13,show_copy_button:14,sanitize_html:15,bubble_full_width:16,latex_delimiters:17,gradio:18,avatar_images:19,loading_status:20,height:21})}}const Sl=ml;export{Sl as default};
//# sourceMappingURL=index-247558c3.js.map
