{"version":3,"file":"utils-fe21d2ec.js","sources":["../../../../js/image/shared/utils.ts"],"sourcesContent":["export const get_coordinates_of_clicked_image = (\n\tevt: MouseEvent\n): [number, number] | null => {\n\tlet image = evt.currentTarget as HTMLImageElement;\n\n\tconst imageRect = image.getBoundingClientRect();\n\tconst xScale = image.naturalWidth / imageRect.width;\n\tconst yScale = image.naturalHeight / imageRect.height;\n\tif (xScale > yScale) {\n\t\tconst displayed_height = image.naturalHeight / xScale;\n\t\tconst y_offset = (imageRect.height - displayed_height) / 2;\n\t\tvar x = Math.round((evt.clientX - imageRect.left) * xScale);\n\t\tvar y = Math.round((evt.clientY - imageRect.top - y_offset) * xScale);\n\t} else {\n\t\tconst displayed_width = image.naturalWidth / yScale;\n\t\tconst x_offset = (imageRect.width - displayed_width) / 2;\n\t\tvar x = Math.round((evt.clientX - imageRect.left - x_offset) * yScale);\n\t\tvar y = Math.round((evt.clientY - imageRect.top) * yScale);\n\t}\n\tif (x < 0 || x >= image.naturalWidth || y < 0 || y >= image.naturalHeight) {\n\t\treturn null;\n\t}\n\treturn [x, y];\n};\n"],"names":[],"mappings":"AAAa,MAAA,gCAAA,GAAmC,CAC/C,GAC6B,KAAA;AAC7B,EAAA,IAAI,QAAQ,GAAI,CAAA,aAAA,CAAA;AAEhB,EAAM,MAAA,SAAA,GAAY,MAAM,qBAAsB,EAAA,CAAA;AAC9C,EAAM,MAAA,MAAA,GAAS,KAAM,CAAA,YAAA,GAAe,SAAU,CAAA,KAAA,CAAA;AAC9C,EAAM,MAAA,MAAA,GAAS,KAAM,CAAA,aAAA,GAAgB,SAAU,CAAA,MAAA,CAAA;AAC/C,EAAA,IAAI,SAAS,MAAQ,EAAA;AACpB,IAAM,MAAA,gBAAA,GAAmB,MAAM,aAAgB,GAAA,MAAA,CAAA;AAC/C,IAAM,MAAA,QAAA,GAAA,CAAY,SAAU,CAAA,MAAA,GAAS,gBAAoB,IAAA,CAAA,CAAA;AACzD,IAAA,IAAI,IAAI,IAAK,CAAA,KAAA,CAAA,CAAO,IAAI,OAAU,GAAA,SAAA,CAAU,QAAQ,MAAM,CAAA,CAAA;AAC1D,IAAI,IAAA,CAAA,GAAI,KAAK,KAAO,CAAA,CAAA,GAAA,CAAI,UAAU,SAAU,CAAA,GAAA,GAAM,YAAY,MAAM,CAAA,CAAA;AAAA,GAC9D,MAAA;AACN,IAAM,MAAA,eAAA,GAAkB,MAAM,YAAe,GAAA,MAAA,CAAA;AAC7C,IAAM,MAAA,QAAA,GAAA,CAAY,SAAU,CAAA,KAAA,GAAQ,eAAmB,IAAA,CAAA,CAAA;AACvD,IAAI,IAAA,CAAA,GAAI,KAAK,KAAO,CAAA,CAAA,GAAA,CAAI,UAAU,SAAU,CAAA,IAAA,GAAO,YAAY,MAAM,CAAA,CAAA;AACrE,IAAA,IAAI,IAAI,IAAK,CAAA,KAAA,CAAA,CAAO,IAAI,OAAU,GAAA,SAAA,CAAU,OAAO,MAAM,CAAA,CAAA;AAAA,GAC1D;AACA,EAAI,IAAA,CAAA,GAAI,KAAK,CAAK,IAAA,KAAA,CAAM,gBAAgB,CAAI,GAAA,CAAA,IAAK,CAAK,IAAA,KAAA,CAAM,aAAe,EAAA;AAC1E,IAAO,OAAA,IAAA,CAAA;AAAA,GACR;AACA,EAAO,OAAA,CAAC,GAAG,CAAC,CAAA,CAAA;AACb;;;;"}