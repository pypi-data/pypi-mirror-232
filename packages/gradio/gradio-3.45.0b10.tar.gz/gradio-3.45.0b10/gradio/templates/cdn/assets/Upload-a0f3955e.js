import{a as j,i as G,s as I,p as L,e as E,y as V,b as d,c as v,d as W,f as U,J as f,M as b,N as m,u as X,q as Y,r as Z,k as x,l as $,h as ee,O as ne,P as le,Q as ie,H as te,K as y,w as ae,R as re}from"./index-84c90141.js";import{b as se,n as oe}from"./Button-23b02e32.js";function ue(l){let n,a,r,g,k,_,t,w,F;const A=l[14].default,s=L(A,l,l[13],null);return{c(){n=E("div"),s&&s.c(),a=V(),r=E("input"),d(r,"type","file"),d(r,"accept",l[0]),r.multiple=g=l[4]==="multiple"||void 0,d(r,"webkitdirectory",k=l[4]==="directory"||void 0),d(r,"mozdirectory",_=l[4]==="directory"||void 0),d(r,"class","svelte-116rqfv"),d(n,"class","svelte-116rqfv"),v(n,"center",l[2]),v(n,"boundedheight",l[1]),v(n,"flex",l[3])},m(i,o){W(i,n,o),s&&s.m(n,null),U(n,a),U(n,r),l[22](r),t=!0,w||(F=[f(r,"change",l[8]),f(n,"drag",b(m(l[15]))),f(n,"dragstart",b(m(l[16]))),f(n,"dragend",b(m(l[17]))),f(n,"dragover",b(m(l[18]))),f(n,"dragenter",b(m(l[19]))),f(n,"dragleave",b(m(l[20]))),f(n,"drop",b(m(l[21]))),f(n,"click",l[7]),f(n,"drop",l[9]),f(n,"dragenter",l[6]),f(n,"dragleave",l[6])],w=!0)},p(i,[o]){s&&s.p&&(!t||o&8192)&&X(s,A,i,i[13],t?Z(A,i[13],o,null):Y(i[13]),null),(!t||o&1)&&d(r,"accept",i[0]),(!t||o&16&&g!==(g=i[4]==="multiple"||void 0))&&(r.multiple=g),(!t||o&16&&k!==(k=i[4]==="directory"||void 0))&&d(r,"webkitdirectory",k),(!t||o&16&&_!==(_=i[4]==="directory"||void 0))&&d(r,"mozdirectory",_),(!t||o&4)&&v(n,"center",i[2]),(!t||o&2)&&v(n,"boundedheight",i[1]),(!t||o&8)&&v(n,"flex",i[3])},i(i){t||(x(s,i),t=!0)},o(i){$(s,i),t=!1},d(i){i&&ee(n),s&&s.d(i),l[22](null),w=!1,ne(F)}}}function fe(l,n,a){let{$$slots:r={},$$scope:g}=n;const k=le("upload_files")??ie;let{filetype:_=null}=n,{dragging:t=!1}=n,{boundedheight:w=!0}=n,{center:F=!0}=n,{flex:A=!0}=n,{file_count:s="single"}=n,{disable_click:i=!1}=n,{root:o}=n,p;const D=te();function T(){a(10,t=!t)}function C(){i||(a(5,p.value="",p),p.click())}async function B(e){await re();let h=(Array.isArray(e)?e:[e]).map(c=>c.blob);await k(o,h).then(async c=>{c.error?(Array.isArray(e)?e:[e]).forEach(async(u,z)=>{u.data=await se(u.blob),u.blob=void 0}):(Array.isArray(e)?e:[e]).forEach((u,z)=>{c.files&&(u.orig_name=u.name,u.name=c.files[z],u.is_file=!0,u.blob=void 0,oe(u,o,null))})}),D("load",s==="single"?e[0]:e)}async function q(e){let h=Array.from(e);if(e.length){s==="single"&&(h=[e[0]]);var c=[];h.forEach((u,z)=>{c[z]={name:u.name,size:u.size,data:"",blob:u}}),await B(c)}}async function H(e){const h=e.target;h.files&&await q(h.files)}async function J(e){a(10,t=!1),e.dataTransfer?.files&&await q(e.dataTransfer.files)}function K(e){y.call(this,l,e)}function M(e){y.call(this,l,e)}function N(e){y.call(this,l,e)}function O(e){y.call(this,l,e)}function P(e){y.call(this,l,e)}function Q(e){y.call(this,l,e)}function R(e){y.call(this,l,e)}function S(e){ae[e?"unshift":"push"](()=>{p=e,a(5,p)})}return l.$$set=e=>{"filetype"in e&&a(0,_=e.filetype),"dragging"in e&&a(10,t=e.dragging),"boundedheight"in e&&a(1,w=e.boundedheight),"center"in e&&a(2,F=e.center),"flex"in e&&a(3,A=e.flex),"file_count"in e&&a(4,s=e.file_count),"disable_click"in e&&a(11,i=e.disable_click),"root"in e&&a(12,o=e.root),"$$scope"in e&&a(13,g=e.$$scope)},[_,w,F,A,s,p,T,C,H,J,t,i,o,g,r,K,M,N,O,P,Q,R,S]}class ge extends j{constructor(n){super(),G(this,n,fe,ue,I,{filetype:0,dragging:10,boundedheight:1,center:2,flex:3,file_count:4,disable_click:11,root:12})}}export{ge as U};
//# sourceMappingURL=Upload-a0f3955e.js.map
