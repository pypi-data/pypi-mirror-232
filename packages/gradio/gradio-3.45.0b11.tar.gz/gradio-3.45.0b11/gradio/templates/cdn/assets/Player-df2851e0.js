import{a as D,i as K,s as L,I as y,b as n,d as S,f as o,n as g,h as G,e as C,y as z,t as te,j as Y,V as Q,a3 as ce,c as ie,m as Z,J as c,a1 as fe,N as se,M as de,a2 as _e,B as pe,l as R,C as me,k as X,g as oe,o as x,O as he,H as ge,ai as ve,K as ue,w as we}from"./index-102c4cdd.js";import{g as ke}from"./Blocks-822aec25.js";import{U as ye}from"./Undo-c24366cc.js";/* empty css                                             */function be(a){let e,t;return{c(){e=y("svg"),t=y("path"),n(t,"d","M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"width","100%"),n(e,"height","100%"),n(e,"viewBox","0 0 24 24"),n(e,"fill","none"),n(e,"stroke","currentColor"),n(e,"stroke-width","1.5"),n(e,"stroke-linecap","round"),n(e,"stroke-linejoin","round")},m(l,s){S(l,e,s),o(e,t)},p:g,i:g,o:g,d(l){l&&G(e)}}}class je extends D{constructor(e){super(),K(this,e,null,be,L,{})}}function Be(a){let e,t,l;return{c(){e=y("svg"),t=y("rect"),l=y("rect"),n(t,"x","6"),n(t,"y","4"),n(t,"width","4"),n(t,"height","16"),n(l,"x","14"),n(l,"y","4"),n(l,"width","4"),n(l,"height","16"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"width","100%"),n(e,"height","100%"),n(e,"viewBox","0 0 24 24"),n(e,"fill","none"),n(e,"stroke","currentColor"),n(e,"stroke-width","1.5"),n(e,"stroke-linecap","round"),n(e,"stroke-linejoin","round")},m(s,v){S(s,e,v),o(e,t),o(e,l)},p:g,i:g,o:g,d(s){s&&G(e)}}}class Ce extends D{constructor(e){super(),K(this,e,null,Be,L,{})}}function Me(a){let e,t;return{c(){e=y("svg"),t=y("polygon"),n(t,"points","5 3 19 12 5 21 5 3"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"width","100%"),n(e,"height","100%"),n(e,"viewBox","0 0 24 24"),n(e,"fill","none"),n(e,"stroke","currentColor"),n(e,"stroke-width","1.5"),n(e,"stroke-linecap","round"),n(e,"stroke-linejoin","round")},m(l,s){S(l,e,s),o(e,t)},p:g,i:g,o:g,d(l){l&&G(e)}}}class Ne extends D{constructor(e){super(),K(this,e,null,Me,L,{})}}function Pe(a){let e,t,l;return{c(){e=y("svg"),t=y("polygon"),l=y("rect"),n(t,"points","23 7 16 12 23 17 23 7"),n(l,"x","1"),n(l,"y","5"),n(l,"width","15"),n(l,"height","14"),n(l,"rx","2"),n(l,"ry","2"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"width","100%"),n(e,"height","100%"),n(e,"viewBox","0 0 24 24"),n(e,"fill","none"),n(e,"stroke","currentColor"),n(e,"stroke-width","1.5"),n(e,"stroke-linecap","round"),n(e,"stroke-linejoin","round"),n(e,"class","feather feather-video")},m(s,v){S(s,e,v),o(e,t),o(e,l)},p:g,i:g,o:g,d(s){s&&G(e)}}}class Ke extends D{constructor(e){super(),K(this,e,null,Pe,L,{})}}const Le=a=>{let e=["B","KB","MB","GB","PB"],t=0;for(;a>1024;)a/=1024,t++;let l=e[t];return a.toFixed(1)+" "+l},Se=()=>!0;function Te(a,{autoplay:e}){async function t(){e&&await a.play()}return a.addEventListener("loadeddata",t),{destroy(){a.removeEventListener("loadeddata",t)}}}const{isNaN:Ee}=ke;function Ve(a){let e,t;return e=new Ce({}),{c(){Y(e.$$.fragment)},m(l,s){Z(e,l,s),t=!0},i(l){t||(X(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Ae(a){let e,t;return e=new Ne({}),{c(){Y(e.$$.fragment)},m(l,s){Z(e,l,s),t=!0},i(l){t||(X(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Fe(a){let e,t;return e=new ye({}),{c(){Y(e.$$.fragment)},m(l,s){Z(e,l,s),t=!0},i(l){t||(X(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Re(a){let e,t,l,s,v,N,T=!1,q,b=!0,w,E,u,p,m,f,h,I,M,V=W(a[5])+"",H,J,A=W(a[6])+"",U,r,d,j,O,B,F,k,$,ne;function le(){cancelAnimationFrame(q),t.paused||(q=ve(le),T=!0),a[16].call(t)}const ae=[Fe,Ae,Ve],P=[];function re(i,_){return i[5]===i[6]?0:i[7]?1:2}return f=re(a),h=P[f]=ae[f](a),F=new je({}),{c(){e=C("div"),t=C("video"),l=C("track"),E=z(),u=C("div"),p=C("div"),m=C("span"),h.c(),I=z(),M=C("span"),H=te(V),J=te(" / "),U=te(A),r=z(),d=C("progress"),O=z(),B=C("div"),Y(F.$$.fragment),n(l,"kind","captions"),Q(l.src,s=a[1])||n(l,"src",s),l.default=!0,Q(t.src,v=a[0])||n(t,"src",v),n(t,"preload","auto"),n(t,"data-testid",N=`${a[4]}-player`),n(t,"class","svelte-w5wajl"),a[6]===void 0&&ce(()=>a[17].call(t)),ie(t,"mirror",a[2]),n(m,"role","button"),n(m,"tabindex","0"),n(m,"class","icon svelte-w5wajl"),n(m,"aria-label","play-pause-replay-button"),n(M,"class","time svelte-w5wajl"),d.value=j=a[5]/a[6]||0,n(d,"class","svelte-w5wajl"),n(B,"role","button"),n(B,"tabindex","0"),n(B,"class","icon svelte-w5wajl"),n(B,"aria-label","full-screen"),n(p,"class","inner svelte-w5wajl"),n(u,"class","controls svelte-w5wajl"),n(e,"class","wrap svelte-w5wajl")},m(i,_){S(i,e,_),o(e,t),o(t,l),a[19](t),o(e,E),o(e,u),o(u,p),o(p,m),P[f].m(m,null),o(p,I),o(p,M),o(M,H),o(M,J),o(M,U),o(p,r),o(p,d),o(p,O),o(p,B),Z(F,B,null),k=!0,$||(ne=[c(t,"click",a[10]),c(t,"play",a[14]),c(t,"pause",a[15]),c(t,"ended",a[12]),c(t,"timeupdate",le),c(t,"durationchange",a[17]),c(t,"play",a[18]),c(t,"pause",a[18]),fe(w=Te.call(null,t,{autoplay:a[3]})),c(m,"click",a[10]),c(m,"keydown",a[10]),c(d,"mousemove",a[9]),c(d,"touchmove",se(a[9])),c(d,"click",de(se(a[11]))),c(B,"click",a[13]),c(B,"keypress",a[13])],$=!0)},p(i,[_]){(!k||_&2&&!Q(l.src,s=i[1]))&&n(l,"src",s),(!k||_&1&&!Q(t.src,v=i[0]))&&n(t,"src",v),(!k||_&16&&N!==(N=`${i[4]}-player`))&&n(t,"data-testid",N),!T&&_&32&&!Ee(i[5])&&(t.currentTime=i[5]),T=!1,_&128&&b!==(b=i[7])&&t[b?"pause":"play"](),w&&_e(w.update)&&_&8&&w.update.call(null,{autoplay:i[3]}),(!k||_&4)&&ie(t,"mirror",i[2]);let ee=f;f=re(i),f!==ee&&(pe(),R(P[ee],1,1,()=>{P[ee]=null}),me(),h=P[f],h||(h=P[f]=ae[f](i),h.c()),X(h,1),h.m(m,null)),(!k||_&32)&&V!==(V=W(i[5])+"")&&oe(H,V),(!k||_&64)&&A!==(A=W(i[6])+"")&&oe(U,A),(!k||_&96&&j!==(j=i[5]/i[6]||0))&&(d.value=j)},i(i){k||(X(h),X(F.$$.fragment,i),k=!0)},o(i){R(h),R(F.$$.fragment,i),k=!1},d(i){i&&G(e),a[19](null),P[f].d(),x(F),$=!1,he(ne)}}}function W(a){if(isNaN(a)||!isFinite(a))return"...";const e=Math.floor(a/60);let t=Math.floor(a%60);return t<10&&(t=`0${t}`),`${e}:${t}`}function Xe(a,e,t){let{src:l}=e,{subtitle:s=null}=e,{mirror:v}=e,{autoplay:N}=e,{label:T="test"}=e;const q=ge();let b=0,w,E=!0,u;function p(r){if(!w)return;if(r.type==="click"){f(r);return}if(r.type!=="touchmove"&&!(r.buttons&1))return;const d=r.type==="touchmove"?r.touches[0].clientX:r.clientX,{left:j,right:O}=r.currentTarget.getBoundingClientRect();t(5,b=w*(d-j)/(O-j))}async function m(){document.fullscreenElement!=u&&(u.currentTime>0&&!u.paused&&!u.ended&&u.readyState>u.HAVE_CURRENT_DATA?u.pause():await u.play())}function f(r){const{left:d,right:j}=r.currentTarget.getBoundingClientRect();t(5,b=w*(r.clientX-d)/(j-d))}function h(){q("stop"),q("end")}function I(){u.requestFullscreen()}function M(r){ue.call(this,a,r)}function V(r){ue.call(this,a,r)}function H(){b=this.currentTime,t(5,b)}function J(){w=this.duration,t(6,w)}function A(){E=this.paused,t(7,E)}function U(r){we[r?"unshift":"push"](()=>{u=r,t(8,u)})}return a.$$set=r=>{"src"in r&&t(0,l=r.src),"subtitle"in r&&t(1,s=r.subtitle),"mirror"in r&&t(2,v=r.mirror),"autoplay"in r&&t(3,N=r.autoplay),"label"in r&&t(4,T=r.label)},[l,s,v,N,T,b,w,E,u,p,m,f,h,I,M,V,H,J,A,U]}class Ge extends D{constructor(e){super(),K(this,e,Xe,Re,L,{src:0,subtitle:1,mirror:2,autoplay:3,label:4})}}export{Ge as P,Ke as V,Se as a,Le as p};
//# sourceMappingURL=Player-df2851e0.js.map
