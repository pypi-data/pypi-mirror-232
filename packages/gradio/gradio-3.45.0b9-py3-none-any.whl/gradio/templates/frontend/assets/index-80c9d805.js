import{a as x,i as ee,s as K,j as B,y as P,G as W,m as N,d as y,B as A,l as g,C as E,k as w,h as V,o as z,H as ue,K as U,e as L,t as T,b as Q,f as R,g as X,n as H,w as fe,x as _e,D as ce,p as de,u as me,q as he,r as be,F as h,v as ge,S as we,z as ke,A as ve}from"./index-1cd18acf.js";import{B as ye,n as Y}from"./Button-43caed73.js";import{U as Ve}from"./UploadText-7756ec3b.js";import{U as pe}from"./Upload-38f0262d.js";import{M as Be}from"./ModifyUpload-04ea73ad.js";import{B as Ne}from"./BlockLabel-f48ee657.js";import{V as ze,p as Z,P as Se,a as Ue}from"./Player-6887a6c8.js";import{W as Ie}from"./InteractiveImage-60429157.js";import"./IconButton-94d98b5d.js";import"./Undo-99186dc7.js";import"./Blocks-df825ef7.js";/* empty css                                             */import"./Image-a0c9ff4f.js";import"./utils-90f3612b.js";function je(i){let e,l,t,n,s,o,r;e=new Be({props:{i18n:i[9]}}),e.$on("clear",i[13]);const a=[De,Ce],d=[];function u(c,m){return t==null&&(t=!!Ue()),t?0:c[0].size?1:-1}return~(n=u(i))&&(s=d[n]=a[n](i)),{c(){B(e.$$.fragment),l=P(),s&&s.c(),o=W()},m(c,m){N(e,c,m),y(c,l,m),~n&&d[n].m(c,m),y(c,o,m),r=!0},p(c,m){const b={};m&512&&(b.i18n=c[9]),e.$set(b);let p=n;n=u(c),n===p?~n&&d[n].p(c,m):(s&&(A(),g(d[p],1,1,()=>{d[p]=null}),E()),~n?(s=d[n],s?s.p(c,m):(s=d[n]=a[n](c),s.c()),w(s,1),s.m(o.parentNode,o)):s=null)},i(c){r||(w(e.$$.fragment,c),w(s),r=!0)},o(c){g(e.$$.fragment,c),g(s),r=!1},d(c){c&&(V(l),V(o)),z(e,c),~n&&d[n].d(c)}}}function qe(i){let e,l,t,n;const s=[Me,Je],o=[];function r(a,d){return a[2]==="upload"?0:a[2]==="webcam"?1:-1}return~(e=r(i))&&(l=o[e]=s[e](i)),{c(){l&&l.c(),t=W()},m(a,d){~e&&o[e].m(a,d),y(a,t,d),n=!0},p(a,d){let u=e;e=r(a),e===u?~e&&o[e].p(a,d):(l&&(A(),g(o[u],1,1,()=>{o[u]=null}),E()),~e?(l=o[e],l?l.p(a,d):(l=o[e]=s[e](a),l.c()),w(l,1),l.m(t.parentNode,t)):l=null)},i(a){n||(w(l),n=!0)},o(a){g(l),n=!1},d(a){a&&V(t),~e&&o[e].d(a)}}}function Ce(i){let e,l=i[0].name+"",t,n,s,o=Z(i[0].size)+"",r;return{c(){e=L("div"),t=T(l),n=P(),s=L("div"),r=T(o),Q(e,"class","file-name svelte-a6ruol"),Q(s,"class","file-size svelte-a6ruol")},m(a,d){y(a,e,d),R(e,t),y(a,n,d),y(a,s,d),R(s,r)},p(a,d){d&1&&l!==(l=a[0].name+"")&&X(t,l),d&1&&o!==(o=Z(a[0].size)+"")&&X(r,o)},i:H,o:H,d(a){a&&(V(e),V(n),V(s))}}}function De(i){let e=i[0]?.data,l,t,n=$(i);return{c(){n.c(),l=W()},m(s,o){n.m(s,o),y(s,l,o),t=!0},p(s,o){o&1&&K(e,e=s[0]?.data)?(A(),g(n,1,1,H),E(),n=$(s),n.c(),w(n,1),n.m(l.parentNode,l)):n.p(s,o)},i(s){t||(w(n),t=!0)},o(s){g(n),t=!1},d(s){s&&V(l),n.d(s)}}}function $(i){let e,l;return e=new Se({props:{autoplay:i[7],src:i[0].data,subtitle:i[1]?.data,mirror:i[5]&&i[2]==="webcam",label:i[3]}}),e.$on("play",i[20]),e.$on("pause",i[21]),e.$on("stop",i[22]),e.$on("end",i[23]),{c(){B(e.$$.fragment)},m(t,n){N(e,t,n),l=!0},p(t,n){const s={};n&128&&(s.autoplay=t[7]),n&1&&(s.src=t[0].data),n&2&&(s.subtitle=t[1]?.data),n&36&&(s.mirror=t[5]&&t[2]==="webcam"),n&8&&(s.label=t[3]),e.$set(s)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function Je(i){let e,l;return e=new Ie({props:{mirror_webcam:i[5],include_audio:i[6],mode:"video",i18n:i[9]}}),e.$on("error",i[16]),e.$on("capture",i[17]),e.$on("start_recording",i[18]),e.$on("stop_recording",i[19]),{c(){B(e.$$.fragment)},m(t,n){N(e,t,n),l=!0},p(t,n){const s={};n&32&&(s.mirror_webcam=t[5]),n&64&&(s.include_audio=t[6]),n&512&&(s.i18n=t[9]),e.$set(s)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function Me(i){let e,l,t;function n(o){i[15](o)}let s={filetype:"video/x-m4v,video/*",root:i[8],$$slots:{default:[Oe]},$$scope:{ctx:i}};return i[10]!==void 0&&(s.dragging=i[10]),e=new pe({props:s}),fe.push(()=>_e(e,"dragging",n)),e.$on("load",i[12]),{c(){B(e.$$.fragment)},m(o,r){N(e,o,r),t=!0},p(o,r){const a={};r&256&&(a.root=o[8]),r&16777216&&(a.$$scope={dirty:r,ctx:o}),!l&&r&1024&&(l=!0,a.dragging=o[10],ce(()=>l=!1)),e.$set(a)},i(o){t||(w(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){z(e,o)}}}function Oe(i){let e;const l=i[14].default,t=de(l,i,i[24],null);return{c(){t&&t.c()},m(n,s){t&&t.m(n,s),e=!0},p(n,s){t&&t.p&&(!e||s&16777216)&&me(t,l,n,n[24],e?be(l,n[24],s,null):he(n[24]),null)},i(n){e||(w(t,n),e=!0)},o(n){g(t,n),e=!1},d(n){t&&t.d(n)}}}function Pe(i){let e,l,t,n,s,o;e=new Ne({props:{show_label:i[4],Icon:ze,label:i[3]||"Video"}});const r=[qe,je],a=[];function d(u,c){return u[0]===null?0:1}return t=d(i),n=a[t]=r[t](i),{c(){B(e.$$.fragment),l=P(),n.c(),s=W()},m(u,c){N(e,u,c),y(u,l,c),a[t].m(u,c),y(u,s,c),o=!0},p(u,[c]){const m={};c&16&&(m.show_label=u[4]),c&8&&(m.label=u[3]||"Video"),e.$set(m);let b=t;t=d(u),t===b?a[t].p(u,c):(A(),g(a[b],1,1,()=>{a[b]=null}),E(),n=a[t],n?n.p(u,c):(n=a[t]=r[t](u),n.c()),w(n,1),n.m(s.parentNode,s))},i(u){o||(w(e.$$.fragment,u),w(n),o=!0)},o(u){g(e.$$.fragment,u),g(n),o=!1},d(u){u&&(V(l),V(s)),z(e,u),a[t].d(u)}}}function We(i,e,l){let{$$slots:t={},$$scope:n}=e,{value:s=null}=e,{subtitle:o=null}=e,{source:r}=e,{label:a=void 0}=e,{show_label:d=!0}=e,{mirror_webcam:u=!1}=e,{include_audio:c}=e,{autoplay:m}=e,{root:b}=e,{i18n:p}=e;const v=ue();function q({detail:f}){l(0,s=f),v("change",f),v("upload",f)}function C({detail:f}){l(0,s=null),v("change",f),v("clear")}let S=!1;function D(f){S=f,l(10,S)}function J(f){U.call(this,i,f)}const M=({detail:f})=>v("change",f);function k(f){U.call(this,i,f)}function I(f){U.call(this,i,f)}function j(f){U.call(this,i,f)}function O(f){U.call(this,i,f)}function F(f){U.call(this,i,f)}function G(f){U.call(this,i,f)}return i.$$set=f=>{"value"in f&&l(0,s=f.value),"subtitle"in f&&l(1,o=f.subtitle),"source"in f&&l(2,r=f.source),"label"in f&&l(3,a=f.label),"show_label"in f&&l(4,d=f.show_label),"mirror_webcam"in f&&l(5,u=f.mirror_webcam),"include_audio"in f&&l(6,c=f.include_audio),"autoplay"in f&&l(7,m=f.autoplay),"root"in f&&l(8,b=f.root),"i18n"in f&&l(9,p=f.i18n),"$$scope"in f&&l(24,n=f.$$scope)},i.$$.update=()=>{i.$$.dirty&1024&&v("drag",S)},[s,o,r,a,d,u,c,m,b,p,S,v,q,C,t,D,J,M,k,I,j,O,F,G,n]}class Ae extends x{constructor(e){super(),ee(this,e,We,Pe,K,{value:0,subtitle:1,source:2,label:3,show_label:4,mirror_webcam:5,include_audio:6,autoplay:7,root:8,i18n:9})}}function Ee(i){let e,l;return e=new Ve({props:{i18n:i[17].i18n,type:"video"}}),{c(){B(e.$$.fragment)},m(t,n){N(e,t,n),l=!0},p(t,n){const s={};n[0]&131072&&(s.i18n=t[17].i18n),e.$set(s)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function Fe(i){let e,l,t,n;const s=[{autoscroll:i[17].autoscroll},{i18n:i[17].i18n},i[1]];let o={};for(let r=0;r<s.length;r+=1)o=ge(o,s[r]);return e=new we({props:o}),t=new Ae({props:{value:i[18],subtitle:i[19],label:i[5],show_label:i[8],source:i[6],mirror_webcam:i[11],include_audio:i[12],autoplay:i[16],root:i[7],i18n:i[17].i18n,$$slots:{default:[Ee]},$$scope:{ctx:i}}}),t.$on("change",i[21]),t.$on("drag",i[24]),t.$on("error",i[25]),t.$on("clear",i[26]),t.$on("play",i[27]),t.$on("pause",i[28]),t.$on("upload",i[29]),t.$on("stop",i[30]),t.$on("end",i[31]),t.$on("start_recording",i[32]),t.$on("stop_recording",i[33]),{c(){B(e.$$.fragment),l=P(),B(t.$$.fragment)},m(r,a){N(e,r,a),y(r,l,a),N(t,r,a),n=!0},p(r,a){const d=a[0]&131074?ke(s,[a[0]&131072&&{autoscroll:r[17].autoscroll},a[0]&131072&&{i18n:r[17].i18n},a[0]&2&&ve(r[1])]):{};e.$set(d);const u={};a[0]&262144&&(u.value=r[18]),a[0]&524288&&(u.subtitle=r[19]),a[0]&32&&(u.label=r[5]),a[0]&256&&(u.show_label=r[8]),a[0]&64&&(u.source=r[6]),a[0]&2048&&(u.mirror_webcam=r[11]),a[0]&4096&&(u.include_audio=r[12]),a[0]&65536&&(u.autoplay=r[16]),a[0]&128&&(u.root=r[7]),a[0]&131072&&(u.i18n=r[17].i18n),a[0]&131072|a[1]&8&&(u.$$scope={dirty:a,ctx:r}),t.$set(u)},i(r){n||(w(e.$$.fragment,r),w(t.$$.fragment,r),n=!0)},o(r){g(e.$$.fragment,r),g(t.$$.fragment,r),n=!1},d(r){r&&V(l),z(e,r),z(t,r)}}}function Ge(i){let e,l;return e=new ye({props:{visible:i[4],variant:i[0]===null&&i[6]==="upload"?"dashed":"solid",border_mode:i[20]?"focus":"base",padding:!1,elem_id:i[2],elem_classes:i[3],height:i[9],width:i[10],container:i[13],scale:i[14],min_width:i[15],allow_overflow:!1,$$slots:{default:[Fe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(t,n){N(e,t,n),l=!0},p(t,n){const s={};n[0]&16&&(s.visible=t[4]),n[0]&65&&(s.variant=t[0]===null&&t[6]==="upload"?"dashed":"solid"),n[0]&1048576&&(s.border_mode=t[20]?"focus":"base"),n[0]&4&&(s.elem_id=t[2]),n[0]&8&&(s.elem_classes=t[3]),n[0]&512&&(s.height=t[9]),n[0]&1024&&(s.width=t[10]),n[0]&8192&&(s.container=t[13]),n[0]&16384&&(s.scale=t[14]),n[0]&32768&&(s.min_width=t[15]),n[0]&2038242|n[1]&8&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function He(i,e,l){let{elem_id:t=""}=e,{elem_classes:n=[]}=e,{visible:s=!0}=e,{value:o=null}=e,r=null,{label:a}=e,{source:d}=e,{root:u}=e,{root_url:c}=e,{show_label:m}=e,{loading_status:b}=e,{height:p}=e,{width:v}=e,{mirror_webcam:q}=e,{include_audio:C}=e,{container:S=!1}=e,{scale:D=null}=e,{min_width:J=void 0}=e,{autoplay:M=!1}=e,{gradio:k}=e,I=null,j=null,O=!1;function F({detail:_}){_!=null?l(0,o={video:_,subtitles:null}):l(0,o=null)}const G=({detail:_})=>l(20,O=_),f=({detail:_})=>{l(1,b=b||{}),l(1,b.status="error",b),l(1,b.message=_,b)},te=()=>k.dispatch("clear"),le=()=>k.dispatch("play"),ne=()=>k.dispatch("pause"),ie=()=>k.dispatch("upload"),se=()=>k.dispatch("stop"),ae=()=>k.dispatch("end"),oe=()=>k.dispatch("start_recording"),re=()=>k.dispatch("stop_recording");return i.$$set=_=>{"elem_id"in _&&l(2,t=_.elem_id),"elem_classes"in _&&l(3,n=_.elem_classes),"visible"in _&&l(4,s=_.visible),"value"in _&&l(0,o=_.value),"label"in _&&l(5,a=_.label),"source"in _&&l(6,d=_.source),"root"in _&&l(7,u=_.root),"root_url"in _&&l(22,c=_.root_url),"show_label"in _&&l(8,m=_.show_label),"loading_status"in _&&l(1,b=_.loading_status),"height"in _&&l(9,p=_.height),"width"in _&&l(10,v=_.width),"mirror_webcam"in _&&l(11,q=_.mirror_webcam),"include_audio"in _&&l(12,C=_.include_audio),"container"in _&&l(13,S=_.container),"scale"in _&&l(14,D=_.scale),"min_width"in _&&l(15,J=_.min_width),"autoplay"in _&&l(16,M=_.autoplay),"gradio"in _&&l(17,k=_.gradio)},i.$$.update=()=>{i.$$.dirty[0]&4194433&&(o!=null?(l(18,I=Y(o.video,u,c)),l(19,j=Y(o.subtitles,u,c))):(l(18,I=null),l(19,j=null))),i.$$.dirty[0]&8519681&&JSON.stringify(o)!==JSON.stringify(r)&&(l(23,r=o),k.dispatch("change"))},[o,b,t,n,s,a,d,u,m,p,v,q,C,S,D,J,M,k,I,j,O,F,c,r,G,f,te,le,ne,ie,se,ae,oe,re]}class Ke extends x{constructor(e){super(),ee(this,e,He,Ge,K,{elem_id:2,elem_classes:3,visible:4,value:0,label:5,source:6,root:7,root_url:22,show_label:8,loading_status:1,height:9,width:10,mirror_webcam:11,include_audio:12,container:13,scale:14,min_width:15,autoplay:16,gradio:17},null,[-1,-1])}get elem_id(){return this.$$.ctx[2]}set elem_id(e){this.$$set({elem_id:e}),h()}get elem_classes(){return this.$$.ctx[3]}set elem_classes(e){this.$$set({elem_classes:e}),h()}get visible(){return this.$$.ctx[4]}set visible(e){this.$$set({visible:e}),h()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),h()}get label(){return this.$$.ctx[5]}set label(e){this.$$set({label:e}),h()}get source(){return this.$$.ctx[6]}set source(e){this.$$set({source:e}),h()}get root(){return this.$$.ctx[7]}set root(e){this.$$set({root:e}),h()}get root_url(){return this.$$.ctx[22]}set root_url(e){this.$$set({root_url:e}),h()}get show_label(){return this.$$.ctx[8]}set show_label(e){this.$$set({show_label:e}),h()}get loading_status(){return this.$$.ctx[1]}set loading_status(e){this.$$set({loading_status:e}),h()}get height(){return this.$$.ctx[9]}set height(e){this.$$set({height:e}),h()}get width(){return this.$$.ctx[10]}set width(e){this.$$set({width:e}),h()}get mirror_webcam(){return this.$$.ctx[11]}set mirror_webcam(e){this.$$set({mirror_webcam:e}),h()}get include_audio(){return this.$$.ctx[12]}set include_audio(e){this.$$set({include_audio:e}),h()}get container(){return this.$$.ctx[13]}set container(e){this.$$set({container:e}),h()}get scale(){return this.$$.ctx[14]}set scale(e){this.$$set({scale:e}),h()}get min_width(){return this.$$.ctx[15]}set min_width(e){this.$$set({min_width:e}),h()}get autoplay(){return this.$$.ctx[16]}set autoplay(e){this.$$set({autoplay:e}),h()}get gradio(){return this.$$.ctx[17]}set gradio(e){this.$$set({gradio:e}),h()}}const st=Ke;export{st as default};
//# sourceMappingURL=index-80c9d805.js.map
