import{a as J,i as N,s as P,j as B,y as q,G as K,m as D,d as C,B as Q,l as d,C as W,k as g,h as F,o as j,aa as Y,H as Z,R as v,w as V,e as A,b as G,f as H,x as y,D as p,p as x,u as $,q as ee,r as le,v as ne,S as ae,z as oe,A as te}from"./index-1cd18acf.js";import{B as se,n as ie}from"./Button-43caed73.js";import{U as fe}from"./UploadText-7756ec3b.js";import{U as _e}from"./Upload-38f0262d.js";import{M as ue}from"./ModifyUpload-04ea73ad.js";import{B as re}from"./BlockLabel-f48ee657.js";import{F as ce}from"./File-e093947e.js";import{b as me,c as de,r as ge}from"./babylonjs.loaders.min-3d18ea4f.js";import"./IconButton-94d98b5d.js";import"./Undo-99186dc7.js";function be(a){let e,n,l,o,i;return n=new ue({props:{undoable:!0,i18n:a[4],absolute:!0}}),n.$on("clear",a[8]),n.$on("undo",a[9]),{c(){e=A("div"),B(n.$$.fragment),l=q(),o=A("canvas"),G(o,"class","svelte-15mfcnc"),G(e,"class","input-model svelte-15mfcnc")},m(_,t){C(_,e,t),D(n,e,null),H(e,l),H(e,o),a[18](o),i=!0},p(_,t){const s={};t&16&&(s.i18n=_[4]),n.$set(s)},i(_){i||(g(n.$$.fragment,_),i=!0)},o(_){d(n.$$.fragment,_),i=!1},d(_){_&&F(e),j(n),a[18](null)}}}function he(a){let e,n,l;function o(_){a[17](_)}let i={root:a[3],filetype:".obj, .gltf, .glb",$$slots:{default:[we]},$$scope:{ctx:a}};return a[6]!==void 0&&(i.dragging=a[6]),e=new _e({props:i}),V.push(()=>y(e,"dragging",o)),e.$on("load",a[7]),{c(){B(e.$$.fragment)},m(_,t){D(e,_,t),l=!0},p(_,t){const s={};t&8&&(s.root=_[3]),t&524288&&(s.$$scope={dirty:t,ctx:_}),!n&&t&64&&(n=!0,s.dragging=_[6],p(()=>n=!1)),e.$set(s)},i(_){l||(g(e.$$.fragment,_),l=!0)},o(_){d(e.$$.fragment,_),l=!1},d(_){j(e,_)}}}function we(a){let e;const n=a[16].default,l=x(n,a,a[19],null);return{c(){l&&l.c()},m(o,i){l&&l.m(o,i),e=!0},p(o,i){l&&l.p&&(!e||i&524288)&&$(l,n,o,o[19],e?le(n,o[19],i,null):ee(o[19]),null)},i(o){e||(g(l,o),e=!0)},o(o){d(l,o),e=!1},d(o){l&&l.d(o)}}}function ke(a){let e,n,l,o,i,_;e=new re({props:{show_label:a[2],Icon:ce,label:a[1]||"3D Model"}});const t=[he,be],s=[];function m(u,c){return u[0]===null?0:1}return l=m(a),o=s[l]=t[l](a),{c(){B(e.$$.fragment),n=q(),o.c(),i=K()},m(u,c){D(e,u,c),C(u,n,c),s[l].m(u,c),C(u,i,c),_=!0},p(u,[c]){const b={};c&4&&(b.show_label=u[2]),c&2&&(b.label=u[1]||"3D Model"),e.$set(b);let h=l;l=m(u),l===h?s[l].p(u,c):(Q(),d(s[h],1,1,()=>{s[h]=null}),W(),o=s[l],o?o.p(u,c):(o=s[l]=t[l](u),o.c()),g(o,1),o.m(i.parentNode,i))},i(u){_||(g(e.$$.fragment,u),g(o),_=!0)},o(u){d(e.$$.fragment,u),d(o),_=!1},d(u){u&&(F(n),F(i)),j(e,u),s[l].d(u)}}}function ze(a,e,n){let l,o,i,{$$slots:_={},$$scope:t}=e,{value:s}=e,{clear_color:m=[0,0,0,0]}=e,{label:u=""}=e,{show_label:c}=e,{root:b}=e,{i18n:h}=e,{zoom_speed:M=1}=e,{camera_position:U=[null,null,null]}=e,w=!1,k,z,E;function I(){z=de(k,z,E,s,m,U,M)}Y(()=>{s!=null&&I(),n(13,w=!0)});async function S({detail:r}){n(0,s=r),await v(),I(),R("change",s)}async function L(){z&&E&&(z.dispose(),E.dispose()),n(0,s=null),await v(),R("clear")}async function T(){ge(z,U,M)}const R=Z();let O=!1;me.OBJFileLoader.IMPORT_VERTEX_COLORS=!0;function f(r){O=r,n(6,O)}function X(r){V[r?"unshift":"push"](()=>{k=r,n(5,k)})}return a.$$set=r=>{"value"in r&&n(0,s=r.value),"clear_color"in r&&n(10,m=r.clear_color),"label"in r&&n(1,u=r.label),"show_label"in r&&n(2,c=r.show_label),"root"in r&&n(3,b=r.root),"i18n"in r&&n(4,h=r.i18n),"zoom_speed"in r&&n(11,M=r.zoom_speed),"camera_position"in r&&n(12,U=r.camera_position),"$$scope"in r&&n(19,t=r.$$scope)},a.$$.update=()=>{a.$$.dirty&1&&n(15,{data:l,is_file:o,name:i}=s||{data:void 0,is_file:void 0,name:void 0},l,(n(14,o),n(0,s))),a.$$.dirty&57376&&k&&w&&l!=null&&o&&I(),a.$$.dirty&64&&R("drag",O)},[s,u,c,b,h,k,O,S,L,T,m,M,U,w,o,l,_,f,X,t]}class Me extends J{constructor(e){super(),N(this,e,ze,ke,P,{value:0,clear_color:10,label:1,show_label:2,root:3,i18n:4,zoom_speed:11,camera_position:12})}}function Ue(a){let e,n;return e=new fe({props:{i18n:a[12].i18n,type:"file"}}),{c(){B(e.$$.fragment)},m(l,o){D(e,l,o),n=!0},p(l,o){const i={};o&4096&&(i.i18n=l[12].i18n),e.$set(i)},i(l){n||(g(e.$$.fragment,l),n=!0)},o(l){d(e.$$.fragment,l),n=!1},d(l){j(e,l)}}}function Be(a){let e,n,l,o;const i=[{autoscroll:a[12].autoscroll},{i18n:a[12].i18n},a[6]];let _={};for(let t=0;t<i.length;t+=1)_=ne(_,i[t]);return e=new ae({props:_}),l=new Me({props:{label:a[7],show_label:a[8],root:a[4],clear_color:a[5],value:a[16],camera_position:a[15],zoom_speed:a[13],i18n:a[12].i18n,$$slots:{default:[Ue]},$$scope:{ctx:a}}}),l.$on("change",a[19]),l.$on("drag",a[20]),l.$on("change",a[21]),l.$on("clear",a[22]),{c(){B(e.$$.fragment),n=q(),B(l.$$.fragment)},m(t,s){D(e,t,s),C(t,n,s),D(l,t,s),o=!0},p(t,s){const m=s&4160?oe(i,[s&4096&&{autoscroll:t[12].autoscroll},s&4096&&{i18n:t[12].i18n},s&64&&te(t[6])]):{};e.$set(m);const u={};s&128&&(u.label=t[7]),s&256&&(u.show_label=t[8]),s&16&&(u.root=t[4]),s&32&&(u.clear_color=t[5]),s&65536&&(u.value=t[16]),s&32768&&(u.camera_position=t[15]),s&8192&&(u.zoom_speed=t[13]),s&4096&&(u.i18n=t[12].i18n),s&8392704&&(u.$$scope={dirty:s,ctx:t}),l.$set(u)},i(t){o||(g(e.$$.fragment,t),g(l.$$.fragment,t),o=!0)},o(t){d(e.$$.fragment,t),d(l.$$.fragment,t),o=!1},d(t){t&&F(n),j(e,t),j(l,t)}}}function De(a){let e,n;return e=new se({props:{visible:a[3],variant:a[0]===null?"dashed":"solid",border_mode:a[17]?"focus":"base",padding:!1,elem_id:a[1],elem_classes:a[2],container:a[9],scale:a[10],min_width:a[11],height:a[14],$$slots:{default:[Be]},$$scope:{ctx:a}}}),{c(){B(e.$$.fragment)},m(l,o){D(e,l,o),n=!0},p(l,[o]){const i={};o&8&&(i.visible=l[3]),o&1&&(i.variant=l[0]===null?"dashed":"solid"),o&131072&&(i.border_mode=l[17]?"focus":"base"),o&2&&(i.elem_id=l[1]),o&4&&(i.elem_classes=l[2]),o&512&&(i.container=l[9]),o&1024&&(i.scale=l[10]),o&2048&&(i.min_width=l[11]),o&16384&&(i.height=l[14]),o&8630769&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){n||(g(e.$$.fragment,l),n=!0)},o(l){d(e.$$.fragment,l),n=!1},d(l){j(e,l)}}}function je(a,e,n){let{elem_id:l=""}=e,{elem_classes:o=[]}=e,{visible:i=!0}=e,{value:_=null}=e,{root:t}=e,{root_url:s}=e,{clear_color:m}=e,{loading_status:u}=e,{label:c}=e,{show_label:b}=e,{container:h=!0}=e,{scale:M=null}=e,{min_width:U=void 0}=e,{gradio:w}=e,{zoom_speed:k=1}=e,{height:z=void 0}=e,{camera_position:E=[null,null,null]}=e,I,S=!1;const L=({detail:f})=>n(0,_=f),T=({detail:f})=>n(17,S=f),R=({detail:f})=>w.dispatch("change",f),O=()=>w.dispatch("clear");return a.$$set=f=>{"elem_id"in f&&n(1,l=f.elem_id),"elem_classes"in f&&n(2,o=f.elem_classes),"visible"in f&&n(3,i=f.visible),"value"in f&&n(0,_=f.value),"root"in f&&n(4,t=f.root),"root_url"in f&&n(18,s=f.root_url),"clear_color"in f&&n(5,m=f.clear_color),"loading_status"in f&&n(6,u=f.loading_status),"label"in f&&n(7,c=f.label),"show_label"in f&&n(8,b=f.show_label),"container"in f&&n(9,h=f.container),"scale"in f&&n(10,M=f.scale),"min_width"in f&&n(11,U=f.min_width),"gradio"in f&&n(12,w=f.gradio),"zoom_speed"in f&&n(13,k=f.zoom_speed),"height"in f&&n(14,z=f.height),"camera_position"in f&&n(15,E=f.camera_position)},a.$$.update=()=>{a.$$.dirty&262161&&n(16,I=ie(_,t,s))},[_,l,o,i,t,m,u,c,b,h,M,U,w,k,z,E,I,S,s,L,T,R,O]}class Ee extends J{constructor(e){super(),N(this,e,je,De,P,{elem_id:1,elem_classes:2,visible:3,value:0,root:4,root_url:18,clear_color:5,loading_status:6,label:7,show_label:8,container:9,scale:10,min_width:11,gradio:12,zoom_speed:13,height:14,camera_position:15})}}const Ae=Ee;export{Ae as default};
//# sourceMappingURL=index-1dc19627.js.map
