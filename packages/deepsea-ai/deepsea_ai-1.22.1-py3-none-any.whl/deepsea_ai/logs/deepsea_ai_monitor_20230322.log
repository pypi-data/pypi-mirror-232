2023-03-21 19:45:34,322 INFO Logging to logs/deepsea_ai_monitor_20230322.log
2023-03-21 19:45:34,322 INFO =============== Config file /Users/dcline/Dropbox/code/deepsea-ai/deepsea_ai/config/config.ini =================
2023-03-21 19:45:34,322 INFO [aws]
2023-03-21 19:45:34,322 INFO sagemaker_arn =
2023-03-21 19:45:34,322 INFO yolov5_ecr = mbari/deepsea-yolov5:1.1.2
2023-03-21 19:45:34,322 INFO deepsort_ecr = mbari/deepsort-yolov5:1.3.5
2023-03-21 19:45:34,322 INFO strongsort_ecr = mbari/strongsort-yolov5:1.4.0
2023-03-21 19:45:34,322 INFO yolov5_model_s3 = s3://902005-public/models/yolov5x_mbay_benthic_model.tar.gz
2023-03-21 19:45:34,322 INFO deepsort_track_config_s3 = s3://902005-public/models/deep_sort_benthic.yaml
2023-03-21 19:45:34,322 INFO strongsort_track_config_s3 = s3://902005-public/models/strong_sort_benthic.yaml
2023-03-21 19:45:34,322 INFO 
2023-03-21 19:45:34,322 INFO [database]
2023-03-21 19:45:34,322 INFO site = http://localhost:4000
2023-03-21 19:45:34,322 INFO gql = %(site)s/graphql
2023-03-21 19:45:34,323 INFO 
2023-03-21 19:45:34,323 INFO [tags]
2023-03-21 19:45:34,323 INFO organization = mbari
2023-03-21 19:45:34,323 INFO project_number = NA
2023-03-21 19:45:34,323 INFO stage = test
2023-03-21 19:45:34,323 INFO application = detection
2023-03-21 19:45:34,323 INFO 
2023-03-21 19:45:34,323 INFO ============ You can override these settings by creating a customconfig.ini file and pass that in with --config=customconfig.ini =====
2023-03-21 19:45:34,323 INFO Initializing job cache in logs
2023-03-21 19:45:34,323 INFO Creating job cache database in logs
2023-03-21 19:45:34,930 INFO Last 10 records from autoscaling of cluster strongsort-yolov5-mbari315k
2023-03-21 19:45:35,197 INFO 2023-03-21 22:02:11.569000+00:00 Terminating EC2 instance: i-052456dd59b997838  At 2023-03-21T22:02:11Z an instance was taken out of service in response to a difference between desired and actual capacity, shrinking the capacity from 1 to 0.  At 2023-03-21T22:02:11Z instance i-052456dd59b997838 was selected for termination.
2023-03-21 19:45:35,197 INFO 2023-03-21 22:01:27.855000+00:00 Could not scale to desired capacity because all remaining instances are protected from scale-in.  At 2023-03-21T22:01:22Z a monitor alarm strongsort-yolov5-mbari315k-scaleinCAF92544-QeGbypaZ0VxA in state ALARM triggered policy strongsort-yolov5-mbari315k-scaleinactionDA2EF43D-XVC7qB1UJUK9 changing the desired capacity from 1 to 0.  At 2023-03-21T22:01:27Z group reached equilibrium.
2023-03-21 19:45:35,197 INFO 2023-03-21 22:00:11.345000+00:00 Terminating EC2 instance: i-0944c93d4a0a9cee3  At 2023-03-21T22:00:11Z an instance was taken out of service in response to a difference between desired and actual capacity, shrinking the capacity from 2 to 1.  At 2023-03-21T22:00:11Z instance i-0944c93d4a0a9cee3 was selected for termination.
2023-03-21 19:45:35,197 INFO 2023-03-21 21:59:27.703000+00:00 Could not scale to desired capacity because all remaining instances are protected from scale-in.  At 2023-03-21T21:59:22Z a monitor alarm strongsort-yolov5-mbari315k-scaleinCAF92544-QeGbypaZ0VxA in state ALARM triggered policy strongsort-yolov5-mbari315k-scaleinactionDA2EF43D-XVC7qB1UJUK9 changing the desired capacity from 2 to 1.  At 2023-03-21T21:59:27Z group reached equilibrium.
2023-03-21 19:45:35,197 INFO 2023-03-21 21:58:11.297000+00:00 Terminating EC2 instance: i-0b71b9c27dd927f1d  At 2023-03-21T21:58:11Z an instance was taken out of service in response to a difference between desired and actual capacity, shrinking the capacity from 4 to 2.  At 2023-03-21T21:58:11Z instance i-00c77eb6c440ee0a6 was selected for termination.  At 2023-03-21T21:58:11Z instance i-0b71b9c27dd927f1d was selected for termination.
2023-03-21 19:45:35,197 INFO 2023-03-21 21:58:11.174000+00:00 Terminating EC2 instance: i-00c77eb6c440ee0a6  At 2023-03-21T21:58:11Z an instance was taken out of service in response to a difference between desired and actual capacity, shrinking the capacity from 4 to 2.  At 2023-03-21T21:58:11Z instance i-00c77eb6c440ee0a6 was selected for termination.  At 2023-03-21T21:58:11Z instance i-0b71b9c27dd927f1d was selected for termination.
2023-03-21 19:45:35,197 INFO 2023-03-21 21:57:38.339000+00:00 Could not scale to desired capacity because all remaining instances are protected from scale-in.  At 2023-03-21T21:57:35Z a monitor alarm TargetTracking-strongsort-yolov5-mbari315k-asgstrongsortyolov5mbari315kASG9C927230-1WRPLL1GOUECO-AlarmLow-a09c9bce-7af2-4439-a36a-0c8d0650aae0 in state ALARM triggered policy ECSManagedAutoScalingPolicy-6c34a2f9-f561-432d-9f3e-148d44d552e2 changing the desired capacity from 4 to 2.  At 2023-03-21T21:57:38Z group reached equilibrium.
2023-03-21 19:45:35,197 INFO 2023-03-21 21:42:22.295000+00:00 Launching a new EC2 instance: i-052456dd59b997838  At 2023-03-21T21:42:20Z an instance was started in response to a difference between desired and actual capacity, increasing the capacity from 3 to 4.
2023-03-21 19:45:35,197 INFO 2023-03-21 21:42:10.809000+00:00 Launching a new EC2 instance.  Status Reason: Your requested instance type (g4dn.xlarge) is not supported in your requested Availability Zone (us-west-2d). Please retry your request by not specifying an Availability Zone or choosing us-west-2a, us-west-2b, us-west-2c. Launching EC2 instance failed.  At 2023-03-21T21:42:04Z a monitor alarm strongsort-yolov5-mbari315k-scaleout9660673C-Cx7yq005M6gq in state ALARM triggered policy strongsort-yolov5-mbari315k-scaleoutaction240431FD-xuGwWAPrYzQa changing the desired capacity from 3 to 4.  At 2023-03-21T21:42:09Z an instance was started in response to a difference between desired and actual capacity, increasing the capacity from 3 to 4.
2023-03-21 19:45:35,197 INFO 2023-03-21 21:39:18.069000+00:00 Launching a new EC2 instance: i-0944c93d4a0a9cee3  At 2023-03-21T21:39:04Z a monitor alarm strongsort-yolov5-mbari315k-scaleout9660673C-Cx7yq005M6gq in state ALARM triggered policy strongsort-yolov5-mbari315k-scaleoutaction240431FD-xuGwWAPrYzQa changing the desired capacity from 2 to 3.  At 2023-03-21T21:39:16Z an instance was started in response to a difference between desired and actual capacity, increasing the capacity from 2 to 3.
2023-03-21 19:45:35,199 INFO Printing queue status of cluster strongsort-yolov5-mbari315k
2023-03-21 19:45:35,360 INFO strongsort-yolov5-mbari315k:TRACK_QUEUE number of completed videos: 0
2023-03-21 19:45:35,470 INFO strongsort-yolov5-mbari315k:VIDEO_QUEUE number of videos to process: 0  number of videos in progress: 0
2023-03-21 19:45:35,579 INFO strongsort-yolov5-mbari315k:DEAD_QUEUE number of failed videos: 0
2023-03-21 19:45:35,658 INFO Monitoring job status of cluster strongsort-yolov5-mbari315k
2023-03-21 19:45:35,897 INFO 2023-03-21 22:02:11.569000+00:00 Terminating EC2 instance: i-052456dd59b997838  At 2023-03-21T22:02:11Z an instance was taken out of service in response to a difference between desired and actual capacity, shrinking the capacity from 1 to 0.  At 2023-03-21T22:02:11Z instance i-052456dd59b997838 was selected for termination.
2023-03-21 19:45:35,897 INFO 2023-03-21 22:01:27.855000+00:00 Could not scale to desired capacity because all remaining instances are protected from scale-in.  At 2023-03-21T22:01:22Z a monitor alarm strongsort-yolov5-mbari315k-scaleinCAF92544-QeGbypaZ0VxA in state ALARM triggered policy strongsort-yolov5-mbari315k-scaleinactionDA2EF43D-XVC7qB1UJUK9 changing the desired capacity from 1 to 0.  At 2023-03-21T22:01:27Z group reached equilibrium.
2023-03-21 19:45:35,897 INFO 2023-03-21 22:00:11.345000+00:00 Terminating EC2 instance: i-0944c93d4a0a9cee3  At 2023-03-21T22:00:11Z an instance was taken out of service in response to a difference between desired and actual capacity, shrinking the capacity from 2 to 1.  At 2023-03-21T22:00:11Z instance i-0944c93d4a0a9cee3 was selected for termination.
2023-03-21 19:45:35,897 INFO 2023-03-21 21:59:27.703000+00:00 Could not scale to desired capacity because all remaining instances are protected from scale-in.  At 2023-03-21T21:59:22Z a monitor alarm strongsort-yolov5-mbari315k-scaleinCAF92544-QeGbypaZ0VxA in state ALARM triggered policy strongsort-yolov5-mbari315k-scaleinactionDA2EF43D-XVC7qB1UJUK9 changing the desired capacity from 2 to 1.  At 2023-03-21T21:59:27Z group reached equilibrium.
2023-03-21 19:45:35,897 INFO 2023-03-21 21:58:11.297000+00:00 Terminating EC2 instance: i-0b71b9c27dd927f1d  At 2023-03-21T21:58:11Z an instance was taken out of service in response to a difference between desired and actual capacity, shrinking the capacity from 4 to 2.  At 2023-03-21T21:58:11Z instance i-00c77eb6c440ee0a6 was selected for termination.  At 2023-03-21T21:58:11Z instance i-0b71b9c27dd927f1d was selected for termination.
2023-03-21 19:45:35,897 INFO 2023-03-21 21:58:11.174000+00:00 Terminating EC2 instance: i-00c77eb6c440ee0a6  At 2023-03-21T21:58:11Z an instance was taken out of service in response to a difference between desired and actual capacity, shrinking the capacity from 4 to 2.  At 2023-03-21T21:58:11Z instance i-00c77eb6c440ee0a6 was selected for termination.  At 2023-03-21T21:58:11Z instance i-0b71b9c27dd927f1d was selected for termination.
2023-03-21 19:45:35,897 INFO 2023-03-21 21:57:38.339000+00:00 Could not scale to desired capacity because all remaining instances are protected from scale-in.  At 2023-03-21T21:57:35Z a monitor alarm TargetTracking-strongsort-yolov5-mbari315k-asgstrongsortyolov5mbari315kASG9C927230-1WRPLL1GOUECO-AlarmLow-a09c9bce-7af2-4439-a36a-0c8d0650aae0 in state ALARM triggered policy ECSManagedAutoScalingPolicy-6c34a2f9-f561-432d-9f3e-148d44d552e2 changing the desired capacity from 4 to 2.  At 2023-03-21T21:57:38Z group reached equilibrium.
2023-03-21 19:45:35,897 INFO 2023-03-21 21:42:22.295000+00:00 Launching a new EC2 instance: i-052456dd59b997838  At 2023-03-21T21:42:20Z an instance was started in response to a difference between desired and actual capacity, increasing the capacity from 3 to 4.
2023-03-21 19:45:35,897 INFO 2023-03-21 21:42:10.809000+00:00 Launching a new EC2 instance.  Status Reason: Your requested instance type (g4dn.xlarge) is not supported in your requested Availability Zone (us-west-2d). Please retry your request by not specifying an Availability Zone or choosing us-west-2a, us-west-2b, us-west-2c. Launching EC2 instance failed.  At 2023-03-21T21:42:04Z a monitor alarm strongsort-yolov5-mbari315k-scaleout9660673C-Cx7yq005M6gq in state ALARM triggered policy strongsort-yolov5-mbari315k-scaleoutaction240431FD-xuGwWAPrYzQa changing the desired capacity from 3 to 4.  At 2023-03-21T21:42:09Z an instance was started in response to a difference between desired and actual capacity, increasing the capacity from 3 to 4.
2023-03-21 19:45:35,898 INFO 2023-03-21 21:39:18.069000+00:00 Launching a new EC2 instance: i-0944c93d4a0a9cee3  At 2023-03-21T21:39:04Z a monitor alarm strongsort-yolov5-mbari315k-scaleout9660673C-Cx7yq005M6gq in state ALARM triggered policy strongsort-yolov5-mbari315k-scaleoutaction240431FD-xuGwWAPrYzQa changing the desired capacity from 2 to 3.  At 2023-03-21T21:39:16Z an instance was started in response to a difference between desired and actual capacity, increasing the capacity from 2 to 3.
2023-03-21 19:45:36,055 INFO strongsort-yolov5-mbari315k:TRACK_QUEUE number of completed videos: 0
