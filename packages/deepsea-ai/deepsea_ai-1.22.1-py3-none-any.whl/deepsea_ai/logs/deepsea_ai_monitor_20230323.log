2023-03-23 16:39:55,154 INFO Logging to logs/deepsea_ai_monitor_20230323.log
2023-03-23 16:39:55,155 INFO =============== Config file /Users/dcline/Dropbox/code/deepsea-ai-scripts/902005prod.ini =================
2023-03-23 16:39:55,155 INFO [aws]
2023-03-23 16:39:55,155 INFO sagemaker_arn = arn:aws:iam::548531997526:role/DeepSeaAI
2023-03-23 16:39:55,155 INFO yolov5_ecr = mbari/deepsea-yolov5:1.1.2
2023-03-23 16:39:55,155 INFO deepsort_ecr = mbari/deepsort-yolov5:1.3.5
2023-03-23 16:39:55,155 INFO strongsort_ecr = mbari/strongsort-yolov5:1.5.0
2023-03-23 16:39:55,155 INFO yolov5_model_s3 = s3://902005-public/models/yolov5x_mbay_benthic_model.tar.gz
2023-03-23 16:39:55,155 INFO deepsort_track_config_s3 = s3://902005-public/models/deep_sort_benthic.yaml
2023-03-23 16:39:55,155 INFO strongsort_track_config_s3 = s3://902005-public/models/strong_sort_benthic.yaml
2023-03-23 16:39:55,155 INFO [database]
2023-03-23 16:39:55,155 INFO site = http://deepsea-ai.shore.mbari.org
2023-03-23 16:39:55,155 INFO gql = %(site)s/graphql
2023-03-23 16:39:55,155 INFO [tags]
2023-03-23 16:39:55,155 INFO organization = mbari
2023-03-23 16:39:55,155 INFO project_number = 902005
2023-03-23 16:39:55,155 INFO stage = prod
2023-03-23 16:39:55,155 INFO application = detection
2023-03-23 16:39:55,155 INFO Initializing job cache in logs
2023-03-23 16:39:55,155 INFO Creating job cache database in logs
2023-03-23 16:39:55,761 INFO Monitoring job status of cluster strongsort-yolov5-mbari315k
2023-03-23 16:39:56,046 INFO 2023-03-22 05:45:23.362000+00:00 Terminating EC2 instance: i-04548abe69756fb22  At 2023-03-22T05:45:23Z an instance was taken out of service in response to a difference between desired and actual capacity, shrinking the capacity from 1 to 0.  At 2023-03-22T05:45:23Z instance i-04548abe69756fb22 was selected for termination.
2023-03-23 16:39:56,046 INFO 2023-03-22 05:39:05.964000+00:00 Could not scale to desired capacity because all remaining instances are protected from scale-in.  At 2023-03-22T05:38:56Z a monitor alarm strongsort-yolov5-mbari315k-scaleinCAF92544-1P00CJ7KB34S3 in state ALARM triggered policy strongsort-yolov5-mbari315k-scaleinactionDA2EF43D-6cflER5j32F5 changing the desired capacity from 1 to 0.  At 2023-03-22T05:39:05Z group reached equilibrium.
2023-03-23 16:39:56,046 INFO 2023-03-22 05:37:24.863000+00:00 Terminating EC2 instance: i-03faa0b55a9d88253  At 2023-03-22T05:37:24Z an instance was taken out of service in response to a difference between desired and actual capacity, shrinking the capacity from 2 to 1.  At 2023-03-22T05:37:24Z instance i-03faa0b55a9d88253 was selected for termination.
2023-03-23 16:39:56,046 INFO 2023-03-22 05:17:58.530000+00:00 Could not scale to desired capacity because all remaining instances are protected from scale-in.  At 2023-03-22T05:17:56Z a monitor alarm strongsort-yolov5-mbari315k-scaleinCAF92544-1P00CJ7KB34S3 in state ALARM triggered policy strongsort-yolov5-mbari315k-scaleinactionDA2EF43D-6cflER5j32F5 changing the desired capacity from 2 to 1.  At 2023-03-22T05:17:58Z group reached equilibrium.
2023-03-23 16:39:56,046 INFO 2023-03-22 05:16:16.978000+00:00 Terminating EC2 instance: i-055982ad9ffd316a9  At 2023-03-22T05:16:16Z an instance was taken out of service in response to a difference between desired and actual capacity, shrinking the capacity from 3 to 2.  At 2023-03-22T05:16:16Z instance i-055982ad9ffd316a9 was selected for termination.
2023-03-23 16:39:56,046 INFO 2023-03-22 05:13:02.673000+00:00 Could not scale to desired capacity because all remaining instances are protected from scale-in.  At 2023-03-22T05:12:56Z a monitor alarm strongsort-yolov5-mbari315k-scaleinCAF92544-1P00CJ7KB34S3 in state ALARM triggered policy strongsort-yolov5-mbari315k-scaleinactionDA2EF43D-6cflER5j32F5 changing the desired capacity from 3 to 2.  At 2023-03-22T05:13:02Z group reached equilibrium.
2023-03-23 16:39:56,046 INFO 2023-03-22 05:11:21.518000+00:00 Terminating EC2 instance: i-0152298903ae92bf5  At 2023-03-22T05:11:21Z an instance was taken out of service in response to a difference between desired and actual capacity, shrinking the capacity from 4 to 3.  At 2023-03-22T05:11:21Z instance i-0152298903ae92bf5 was selected for termination.
2023-03-23 16:39:56,046 INFO 2023-03-22 05:02:00.752000+00:00 Could not scale to desired capacity because all remaining instances are protected from scale-in.  At 2023-03-22T05:01:56Z a monitor alarm strongsort-yolov5-mbari315k-scaleinCAF92544-1P00CJ7KB34S3 in state ALARM triggered policy strongsort-yolov5-mbari315k-scaleinactionDA2EF43D-6cflER5j32F5 changing the desired capacity from 4 to 3.  At 2023-03-22T05:02:00Z group reached equilibrium.
2023-03-23 16:39:56,046 INFO 2023-03-22 05:00:28.513000+00:00 Terminating EC2 instance: i-06fe220ca7dcc346d  At 2023-03-22T05:00:28Z an instance was taken out of service in response to a difference between desired and actual capacity, shrinking the capacity from 5 to 4.  At 2023-03-22T05:00:28Z instance i-06fe220ca7dcc346d was selected for termination.
2023-03-23 16:39:56,046 INFO 2023-03-22 04:48:03.133000+00:00 Could not scale to desired capacity because all remaining instances are protected from scale-in.  At 2023-03-22T04:47:56Z a monitor alarm strongsort-yolov5-mbari315k-scaleinCAF92544-1P00CJ7KB34S3 in state ALARM triggered policy strongsort-yolov5-mbari315k-scaleinactionDA2EF43D-6cflER5j32F5 changing the desired capacity from 5 to 4.  At 2023-03-22T04:48:03Z group reached equilibrium.
2023-03-23 16:39:56,238 INFO strongsort-yolov5-mbari315k:TRACK_QUEUE number of completed videos: 0
2023-03-23 16:39:56,239 INFO strongsort-yolov5-mbari315k:TRACK_QUEUE number of completed videos: 6
2023-03-23 16:39:56,480 INFO strongsort-yolov5-mbari315k:VIDEO_QUEUE number of videos to process: 0  number of videos in progress: 0
2023-03-23 16:39:56,715 INFO strongsort-yolov5-mbari315k:DEAD_QUEUE number of failed videos: 0
2023-03-23 16:39:56,918 INFO JobCache: Added video file D1387_20210827T200157Z_h264.mp4 to job DocRicketts Dive D1387 running on strongsort-yolov5-mbari315k
2023-03-23 16:39:56,918 INFO JobCache: Added video file D1387_20210827T194657Z_h264.mp4 to job DocRicketts Dive D1387 running on strongsort-yolov5-mbari315k
2023-03-23 16:39:56,918 INFO JobCache: Added video file D1387_20210827T184656Z_h264.mp4 to job DocRicketts Dive D1387 running on strongsort-yolov5-mbari315k
2023-03-23 16:39:56,918 INFO Updating job DocRicketts Dive D1387 running on strongsort-yolov5-mbari315k in cache status to SUCCESS
2023-03-23 16:39:56,920 INFO Added job DocRicketts Dive D1387 running on strongsort-yolov5-mbari315k to cache
2023-03-23 16:39:56,920 INFO Found 2 completed videos for job DocRicketts Dive D1387. 
2023-03-23 16:39:56,920 INFO JobCache: Creating job report for DocRicketts Dive D1387 in reports/DocRicketts_Dive_D1387_20230323.txt
2023-03-23 16:39:56,939 INFO Checking again in 10 seconds. Ctrl-C to stop.
